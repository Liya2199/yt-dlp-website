# MediaPro - çœŸæ­£çš„åª’ä½“å¤„ç†å¹³å°

## é¡¹ç›®ç®€ä»‹

MediaPro æ˜¯ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„åª’ä½“å¤„ç†å¹³å°ï¼ŒçœŸæ­£å®ç°äº†åŸºäº yt-dlp å’Œ ffmpeg çš„è§†é¢‘ä¸‹è½½å’Œå¤„ç†åŠŸèƒ½ã€‚ä¸å†æ˜¯å‰ç«¯æ¼”ç¤ºï¼Œè€Œæ˜¯çœŸæ­£å¯ç”¨çš„æœåŠ¡ã€‚

## åŠŸèƒ½ç‰¹æ€§

### âœ… å·²å®ç°çš„åŠŸèƒ½
- **çœŸå®çš„è§†é¢‘ä¸‹è½½**ï¼šåŸºäº yt-dlpï¼Œæ”¯æŒ 1000+ ç½‘ç«™
- **æ™ºèƒ½URLåˆ†æ**ï¼šè‡ªåŠ¨æ£€æµ‹å¹³å°ï¼Œè·å–å¯ç”¨æ ¼å¼
- **å¤šæ ¼å¼ä¸‹è½½**ï¼šæ”¯æŒ 720pã€1080pã€4K ç­‰å¤šç§è´¨é‡
- **å­—å¹•ä¸‹è½½**ï¼šè‡ªåŠ¨ä¸‹è½½å¤šè¯­è¨€å­—å¹•
- **å®æ—¶è¿›åº¦**ï¼šæ˜¾ç¤ºçœŸå®çš„ä¸‹è½½è¿›åº¦å’Œé€Ÿåº¦
- **æ‰¹é‡å¤„ç†**ï¼šæ”¯æŒå¤šä¸ªURLçš„æ‰¹é‡ä¸‹è½½
- **æ–‡ä»¶ç®¡ç†**ï¼šè‡ªåŠ¨æ¸…ç†è¿‡æœŸæ–‡ä»¶

### ğŸŒ æ”¯æŒçš„å¹³å°
- YouTube
- Bilibili  
- Vimeo
- TikTok
- Instagram
- Facebook
- Twitter
- ä»¥åŠæ›´å¤š...

## æŠ€æœ¯æ¶æ„

### å‰ç«¯æŠ€æœ¯æ ˆ
- **HTML5 + CSS3 + JavaScript ES6+**
- **Tailwind CSS**ï¼šç°ä»£åŒ–æ ·å¼æ¡†æ¶
- **Anime.js**ï¼šæµç•…åŠ¨ç”»æ•ˆæœ
- **ECharts.js**ï¼šæ•°æ®å¯è§†åŒ–
- **Pixi.js**ï¼šç²’å­èƒŒæ™¯æ•ˆæœ
- **Splide.js**ï¼šè½®æ’­ç»„ä»¶

### åç«¯æŠ€æœ¯æ ˆ
- **Python Flask**ï¼šè½»é‡çº§Webæ¡†æ¶
- **yt-dlp**ï¼šå¼ºå¤§çš„è§†é¢‘ä¸‹è½½å·¥å…·
- **FFmpeg**ï¼šéŸ³è§†é¢‘å¤„ç†å¼•æ“
- **Redis**ï¼šç¼“å­˜å’Œä¼šè¯å­˜å‚¨ï¼ˆå¯é€‰ï¼‰

## å¿«é€Ÿå¼€å§‹

### ç³»ç»Ÿè¦æ±‚
- **Python 3.7+**
- **yt-dlp**ï¼ˆè‡ªåŠ¨å®‰è£…ï¼‰
- **FFmpeg**ï¼ˆéœ€è¦æ‰‹åŠ¨å®‰è£…ï¼‰
- **Redis**ï¼ˆå¯é€‰ï¼Œç”¨äºç¼“å­˜ï¼‰

### å®‰è£…æ­¥éª¤

#### 1. å…‹éš†æˆ–ä¸‹è½½é¡¹ç›®
```bash
git clone https://github.com/yourusername/mediapro.git
cd mediapro
```

#### 2. å®‰è£…Pythonä¾èµ–
```bash
pip3 install -r requirements.txt
```

#### 3. å®‰è£…FFmpeg

**Ubuntu/Debian:**
```bash
sudo apt update
sudo apt install ffmpeg
```

**macOS:**
```bash
brew install ffmpeg
```

**Windows:**
1. ä» https://ffmpeg.org/download.html ä¸‹è½½Windowsç‰ˆæœ¬
2. è§£å‹å¹¶å°† ffmpeg.exe æ·»åŠ åˆ°ç³»ç»ŸPATH

#### 4. å¯åŠ¨æœåŠ¡

**Linux/macOS:**
```bash
chmod +x start-backend.sh
./start-backend.sh
```

**Windows:**
```bash
start-backend.bat
```

æˆ–è€…ç›´æ¥è¿è¡Œï¼š
```bash
python3 app.py
```

### éªŒè¯å®‰è£…

æœåŠ¡å¯åŠ¨åï¼Œè®¿é—® http://localhost:5000 æŸ¥çœ‹ç•Œé¢ã€‚

æ£€æŸ¥åç«¯æ˜¯å¦æ­£å¸¸å·¥ä½œï¼š
```bash
curl http://localhost:5000/api/platforms
```

## ä½¿ç”¨æŒ‡å—

### è§†é¢‘ä¸‹è½½

1. **è¾“å…¥URL**ï¼šåœ¨ä¸»é¡µè¾“å…¥æ¡†ä¸­ç²˜è´´è§†é¢‘URL
2. **åˆ†æè§†é¢‘**ï¼šç‚¹å‡»"åˆ†æ"æŒ‰é’®ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æ£€æµ‹å¹³å°å’Œå¯ç”¨æ ¼å¼
3. **é€‰æ‹©æ ¼å¼**ï¼šé€‰æ‹©æ‰€éœ€çš„è§†é¢‘è´¨é‡å’Œæ ¼å¼
4. **å¼€å§‹ä¸‹è½½**ï¼šç‚¹å‡»"å¼€å§‹ä¸‹è½½"ï¼Œç³»ç»Ÿä¼šåˆ›å»ºä¸‹è½½ä»»åŠ¡
5. **æŸ¥çœ‹è¿›åº¦**ï¼šå®æ—¶æŸ¥çœ‹ä¸‹è½½è¿›åº¦å’Œé€Ÿåº¦
6. **ä¸‹è½½å®Œæˆ**ï¼šä¸‹è½½å®Œæˆåä¼šæ˜¾ç¤ºä¸‹è½½é“¾æ¥

### æ”¯æŒçš„URLæ ¼å¼
- YouTube: `https://www.youtube.com/watch?v=è§†é¢‘ID`
- Bilibili: `https://www.bilibili.com/video/BVè§†é¢‘ID`
- Vimeo: `https://vimeo.com/è§†é¢‘ID`
- ç­‰ç­‰...

### æ–‡ä»¶å­˜å‚¨
- **ä¸‹è½½æ–‡ä»¶**ï¼šä¿å­˜åœ¨ `downloads/` ç›®å½•
- **å¤„ç†æ–‡ä»¶**ï¼šä¿å­˜åœ¨ `processed/` ç›®å½•
- **ä¸´æ—¶æ–‡ä»¶**ï¼šä¿å­˜åœ¨ `temp/` ç›®å½•

## APIæ–‡æ¡£

### åˆ†æè§†é¢‘URL
```http
POST /api/analyze
Content-Type: application/json

{
    "url": "https://www.youtube.com/watch?v=example"
}
```

å“åº”ï¼š
```json
{
    "success": true,
    "platform": "YouTube",
    "title": "è§†é¢‘æ ‡é¢˜",
    "duration": 245,
    "duration_str": "4:05",
    "formats": [
        {
            "format_id": "22",
            "quality": "720p",
            "ext": "mp4",
            "filesize": 52428800,
            "filesize_str": "50.0 MB"
        }
    ],
    "subtitles": ["zh-CN", "en"]
}
```

### åˆ›å»ºä¸‹è½½ä»»åŠ¡
```http
POST /api/download
Content-Type: application/json

{
    "url": "https://www.youtube.com/watch?v=example",
    "format_id": "22",
    "include_subtitles": true,
    "subtitle_langs": ["zh-CN", "en"]
}
```

å“åº”ï¼š
```json
{
    "success": true,
    "task_id": "550e8400-e29b-41d4-a716-446655440000",
    "status": "pending"
}
```

### è·å–ä»»åŠ¡çŠ¶æ€
```http
GET /api/tasks/{task_id}
```

å“åº”ï¼š
```json
{
    "task_id": "550e8400-e29b-41d4-a716-446655440000",
    "status": "downloading",
    "progress": 45.6,
    "message": "ä¸‹è½½ä¸­... 45.6%"
}
```

### ä¸‹è½½æ–‡ä»¶
```http
GET /api/download-file/{task_id}/{filename}
```

## é…ç½®é€‰é¡¹

### ç¯å¢ƒå˜é‡
åˆ›å»º `.env` æ–‡ä»¶ï¼š
```
FLASK_ENV=production
SECRET_KEY=your-secret-key
REDIS_URL=redis://localhost:6379/0
DOWNLOAD_DIR=/path/to/downloads
MAX_FILE_SIZE=5368709120  # 5GB
```

### ä¿®æ”¹é…ç½®
åœ¨ `app.py` ä¸­å¯ä»¥ä¿®æ”¹ä»¥ä¸‹é…ç½®ï¼š
- **ä¸‹è½½ç›®å½•**ï¼š`DOWNLOAD_DIR`
- **å¤„ç†ç›®å½•**ï¼š`PROCESSED_DIR`
- **æ–‡ä»¶è¿‡æœŸæ—¶é—´**ï¼š24å°æ—¶
- **æœ€å¤§å¹¶å‘ä»»åŠ¡æ•°**ï¼šæ— é™åˆ¶ï¼ˆåŸºäºç³»ç»Ÿèµ„æºï¼‰

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **yt-dlp æœªå®‰è£…**
   ```bash
   pip3 install yt-dlp
   ```

2. **FFmpeg æœªå®‰è£…**
   - æŒ‰ç…§ä¸Šé¢çš„å®‰è£…æ­¥éª¤å®‰è£…FFmpeg
   - ç¡®ä¿ ffmpeg å‘½ä»¤åœ¨PATHä¸­å¯ç”¨

3. **ç«¯å£è¢«å ç”¨**
   - ä¿®æ”¹ `app.py` ä¸­çš„ç«¯å£å·
   - æˆ–å…³é—­å ç”¨5000ç«¯å£çš„ç¨‹åº

4. **ä¸‹è½½å¤±è´¥**
   - æ£€æŸ¥URLæ˜¯å¦æ­£ç¡®
   - æ£€æŸ¥ç½‘ç»œè¿æ¥
   - æŸ¥çœ‹æ—¥å¿—è·å–è¯¦ç»†é”™è¯¯ä¿¡æ¯

5. **è·¨åŸŸé—®é¢˜**
   - ç¡®ä¿å‰ç«¯å’Œåç«¯åœ¨åŒä¸€åŸŸåä¸‹
   - æˆ–ä¿®æ”¹CORSé…ç½®

### æ—¥å¿—æŸ¥çœ‹
åç«¯ä¼šè¾“å‡ºè¯¦ç»†æ—¥å¿—ï¼ŒåŒ…æ‹¬ï¼š
- è¯·æ±‚å¤„ç†æ—¥å¿—
- yt-dlpæ‰§è¡Œæ—¥å¿—
- é”™è¯¯ä¿¡æ¯æ—¥å¿—

### æ€§èƒ½ä¼˜åŒ–

1. **ä½¿ç”¨Redisç¼“å­˜**ï¼ˆå¯é€‰ï¼‰
   ```bash
   redis-server
   ```

2. **è°ƒæ•´å¹¶å‘é™åˆ¶**
   åœ¨ `app.py` ä¸­å¯ä»¥æ·»åŠ å¹¶å‘é™åˆ¶

3. **æ–‡ä»¶æ¸…ç†**
   å®šæœŸè¿è¡Œæ¸…ç†è„šæœ¬åˆ é™¤è¿‡æœŸæ–‡ä»¶

## å®‰å…¨è€ƒè™‘

### è¾“å…¥éªŒè¯
- URLæ ¼å¼éªŒè¯
- æ–‡ä»¶åæ¸…ç†ï¼Œé˜²æ­¢è·¯å¾„éå†
- æ–‡ä»¶å¤§å°é™åˆ¶

### èµ„æºé™åˆ¶
- è®¾ç½®æœ€å¤§æ–‡ä»¶å¤§å°
- å®šæœŸæ¸…ç†è¿‡æœŸæ–‡ä»¶
- é™åˆ¶å¹¶å‘ä»»åŠ¡æ•°

### è®¿é—®æ§åˆ¶
- æ·»åŠ ç”¨æˆ·è®¤è¯ï¼ˆå¯é€‰ï¼‰
- IPç™½åå•ï¼ˆå¯é€‰ï¼‰
- é€Ÿç‡é™åˆ¶ï¼ˆå¯é€‰ï¼‰

## æ‰©å±•åŠŸèƒ½

### è®¡åˆ’å®ç°çš„åŠŸèƒ½
- [ ] è§†é¢‘ç¼–è¾‘ï¼ˆè£å‰ªã€åˆå¹¶ã€å‹ç¼©ï¼‰
- [ ] éŸ³é¢‘å¤„ç†ï¼ˆæ ¼å¼è½¬æ¢ã€éŸ³æ•ˆï¼‰
- [ ] ç”¨æˆ·è®¤è¯ç³»ç»Ÿ
- [ ] æ‰¹é‡å¤„ç†é˜Ÿåˆ—
- [ ] WebSocketå®æ—¶é€šä¿¡
- [ ] Dockerå®¹å™¨åŒ–éƒ¨ç½²

### è´¡çŒ®æŒ‡å—
æ¬¢è¿æäº¤Issueå’ŒPull Requestæ¥æ”¹è¿›è¿™ä¸ªé¡¹ç›®ã€‚

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚

## è‡´è°¢

- [yt-dlp](https://github.com/yt-dlp/yt-dlp) - å¼ºå¤§çš„è§†é¢‘ä¸‹è½½å·¥å…·
- [FFmpeg](https://ffmpeg.org/) - éŸ³è§†é¢‘å¤„ç†å¼•æ“
- [Flask](https://flask.palletsprojects.com/) - Python Webæ¡†æ¶
- æ‰€æœ‰å¼€æºåº“çš„è´¡çŒ®è€…

---

**æ³¨æ„**ï¼šæœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨ã€‚è¯·éµå®ˆç›¸å…³ç½‘ç«™çš„æœåŠ¡æ¡æ¬¾å’Œç‰ˆæƒè§„å®šã€‚åœ¨ä½¿ç”¨å‰è¯·ç¡®ä¿æ‚¨æœ‰æƒä¸‹è½½å’Œå¤„ç†ç›¸å…³è§†é¢‘å†…å®¹ã€‚

---

## MediaPro åç«¯å®ç°æŒ‡å—

### æ¦‚è¿°

æœ¬æ–‡æ¡£æä¾›äº†å¦‚ä½•å°†MediaProä»çº¯å‰ç«¯æ¼”ç¤ºè½¬æ¢ä¸ºåŠŸèƒ½å®Œæ•´çš„åª’ä½“å¤„ç†å¹³å°çš„è¯¦ç»†æŒ‡å—ã€‚é‡ç‚¹ä»‹ç»å¦‚ä½•å®ç°yt-dlpå’Œffmpegçš„å®é™…è°ƒç”¨ã€‚

### ç³»ç»Ÿè¦æ±‚

#### è½¯ä»¶ä¾èµ–
```bash
# å®‰è£…ç³»ç»Ÿä¾èµ–
sudo apt update
sudo apt install -y \
    python3 \
    python3-pip \
    ffmpeg \
    yt-dlp \
    redis-server \
    nginx \
    supervisor
```

#### Pythonä¾èµ–
```bash
# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python3 -m venv venv
source venv/bin/activate

# å®‰è£…PythonåŒ…
pip install -r requirements.txt
```

**requirements.txt**
```
Flask==2.3.3
Flask-CORS==4.0.0
Celery==5.3.4
Redis==5.0.1
SQLAlchemy==2.0.21
requests==2.31.0
Werkzeug==2.3.7
python-dotenv==1.0.0
```

### åç«¯APIå®ç°

#### 1. ä¸»åº”ç”¨æ–‡ä»¶ (app.py)
```python
from flask import Flask, request, jsonify, send_file
from flask_cors import CORS
from celery import Celery
import os
import subprocess
import uuid
import redis
from datetime import datetime
import json

app = Flask(__app.name__)
CORS(app)

# é…ç½®
app.config['CELERY_BROKER_URL'] = 'redis://localhost:6379/0'
app.config['CELERY_RESULT_BACKEND'] = 'redis://localhost:6379/0'

# åˆå§‹åŒ–Celery
celery = Celery(app.name, broker=app.config['CELERY_BROKER_URL'])
celery.conf.update(app.config)

# Redisè¿æ¥
redis_client = redis.Redis(host='localhost', port=6379, db=0)

# é…ç½®ç›®å½•
DOWNLOAD_DIR = '/tmp/mediapro/downloads'
PROCESSED_DIR = '/tmp/mediapro/processed'

# åˆ›å»ºç›®å½•
os.makedirs(DOWNLOAD_DIR, exist_ok=True)
os.makedirs(PROCESSED_DIR, exist_ok=True)

@app.route('/api/analyze', methods=['POST'])
def analyze_url():
    """åˆ†æè§†é¢‘URLï¼Œè·å–å¯ç”¨æ ¼å¼ä¿¡æ¯"""
    try:
        data = request.json
        url = data.get('url')
        
        if not url:
            return jsonify({'error': 'URL is required'}), 400
        
        # ä½¿ç”¨yt-dlpè·å–è§†é¢‘ä¿¡æ¯
        cmd = [
            'yt-dlp',
            '--dump-json',
            '--no-warnings',
            url
        ]
        
        result = subprocess.run(cmd, capture_output=True, text=True, timeout=30)
        
        if result.returncode == 0:
            video_info = json.loads(result.stdout)
            
            # æå–æ ¼å¼ä¿¡æ¯
            formats = []
            for fmt in video_info.get('formats', []):
                if fmt.get('vcodec') != 'none' and fmt.get('acodec') != 'none':
                    formats.append({
                        'format_id': fmt.get('format_id'),
                        'format_note': fmt.get('format_note', ''),
                        'width': fmt.get('width'),
                        'height': fmt.get('height'),
                        'ext': fmt.get('ext'),
                        'filesize': fmt.get('filesize'),
                        'vcodec': fmt.get('vcodec'),
                        'acodec': fmt.get('acodec')
                    })
            
            response = {
                'title': video_info.get('title'),
                'duration': video_info.get('duration'),
                'thumbnail': video_info.get('thumbnail'),
                'formats': formats,
                'subtitles': list(video_info.get('subtitles', {}).keys())
            }
            
            return jsonify(response)
        else:
            return jsonify({'error': result.stderr}), 400
            
    except Exception as e:
        return jsonify({'error': str(e)}), 500

@app.route('/api/download', methods=['POST'])
def download_video():
    """åˆ›å»ºè§†é¢‘ä¸‹è½½ä»»åŠ¡"""
    try:
        data = request.json
        url = data.get('url')
        format_id = data.get('format_id', 'best')
        include_subtitles = data.get('include_subtitles', False)
        subtitle_langs = data.get('subtitle_langs', ['zh-CN', 'en'])
        
        if not url:
            return jsonify({'error': 'URL is required'}), 400
        
        # åˆ›å»ºä»»åŠ¡ID
        task_id = str(uuid.uuid4())
        
        # åˆ›å»ºä¸‹è½½ä»»åŠ¡
        task = download_video_task.delay(
            url=url,
            format_id=format_id,
            include_subtitles=include_subtitles,
            subtitle_langs=subtitle_langs,
            task_id=task_id
        )
        
        # ä¿å­˜ä»»åŠ¡ä¿¡æ¯åˆ°Redis
        task_info = {
            'task_id': task_id,
            'url': url,
            'status': 'pending',
            'created_at': datetime.now().isoformat(),
            'progress': 0
        }
        redis_client.setex(f'task:{task_id}', 3600, json.dumps(task_info))
        
        return jsonify({
            'task_id': task_id,
            'status': 'pending',
            'message': 'Download task created'
        })
        
    except Exception as e:
        return jsonify({'error': str(e)}), 500

@app.route('/api/tasks/<task_id>', methods=['GET'])
def get_task_status(task_id):
    """è·å–ä»»åŠ¡çŠ¶æ€"""
    try:
        task_data = redis_client.get(f'task:{task_id}')
        if not task_data:
            return jsonify({'error': 'Task not found'}), 404
        
        task_info = json.loads(task_data)
        return jsonify(task_info)
        
    except Exception as e:
        return jsonify({'error': str(e)}), 500

@app.route('/api/process', methods=['POST'])
def process_media():
    """åˆ›å»ºåª’ä½“å¤„ç†ä»»åŠ¡"""
    try:
        data = request.json
        input_file = data.get('input_file')
        operations = data.get('operations', {})
        
        if not input_file:
            return jsonify({'error': 'Input file is required'}), 400
        
        # åˆ›å»ºä»»åŠ¡ID
        task_id = str(uuid.uuid4())
        
        # åˆ›å»ºå¤„ç†ä»»åŠ¡
        task = process_media_task.delay(
            input_file=input_file,
            operations=operations,
            task_id=task_id
        )
        
        # ä¿å­˜ä»»åŠ¡ä¿¡æ¯
        task_info = {
            'task_id': task_id,
            'input_file': input_file,
            'operations': operations,
            'status': 'pending',
            'created_at': datetime.now().isoformat(),
            'progress': 0
        }
        redis_client.setex(f'task:{task_id}', 3600, json.dumps(task_info))
        
        return jsonify({
            'task_id': task_id,
            'status': 'pending',
            'message': 'Processing task created'
        })
        
    except Exception as e:
        return jsonify({'error': str(e)}), 500

@app.route('/api/download-result/<task_id>', methods=['GET'])
def download_result(task_id):
    """ä¸‹è½½å¤„ç†ç»“æœ"""
    try:
        task_data = redis_client.get(f'task:{task_id}')
        if not task_data:
            return jsonify({'error': 'Task not found'}), 404
        
        task_info = json.loads(task_data)
        
        if task_info['status'] != 'completed':
            return jsonify({'error': 'Task not completed'}), 400
        
        output_file = task_info.get('output_file')
        if not output_file or not os.path.exists(output_file):
            return jsonify({'error': 'Result file not found'}), 404
        
        return send_file(output_file, as_attachment=True)
        
    except Exception as e:
        return jsonify({'error': str(e)}), 500

# Celeryä»»åŠ¡
@celery.task(bind=True)
def download_video_task(self, url, format_id, include_subtitles, subtitle_langs, task_id):
    """è§†é¢‘ä¸‹è½½ä»»åŠ¡"""
    try:
        # æ›´æ–°ä»»åŠ¡çŠ¶æ€
        task_info = {
            'task_id': task_id,
            'url': url,
            'status': 'downloading',
            'progress': 0,
            'started_at': datetime.now().isoformat()
        }
        redis_client.setex(f'task:{task_id}', 3600, json.dumps(task_info))
        
        # æ„å»ºyt-dlpå‘½ä»¤
        cmd = [
            'yt-dlp',
            '-f', format_id,
            '--write-info-json',
            '--no-warnings',
            '--progress',
            '--newline'
        ]
        
        if include_subtitles:
            cmd.extend(['--write-sub', '--sub-lang', ','.join(subtitle_langs)])
        
        cmd.extend([
            '-o', os.path.join(DOWNLOAD_DIR, '%(title)s.%(ext)s'),
            url
        ])
        
        # æ‰§è¡Œä¸‹è½½
        process = subprocess.Popen(
            cmd,
            stdout=subprocess.PIPE,
            stderr=subprocess.PIPE,
            universal_newlines=True
        )
        
        # è§£æè¿›åº¦
        for line in process.stdout:
            if '[download]' in line and '%' in line:
                # è§£æè¿›åº¦ç™¾åˆ†æ¯”
                try:
                    progress_str = line.split('%')[0].split()[-1]
                    progress = float(progress_str)
                    
                    # æ›´æ–°è¿›åº¦
                    task_info['progress'] = progress
                    redis_client.setex(f'task:{task_id}', 3600, json.dumps(task_info))
                    
                    # æ›´æ–°Celeryä»»åŠ¡è¿›åº¦
                    self.update_state(
                        state='PROGRESS',
                        meta={'current': progress, 'total': 100}
                    )
                except:
                    pass
        
        process.wait()
        
        if process.returncode == 0:
            # æŸ¥æ‰¾ä¸‹è½½çš„æ–‡ä»¶
            downloaded_files = []
            for file in os.listdir(DOWNLOAD_DIR):
                if file.endswith(('.mp4', '.mkv', '.webm', '.avi')):
                    downloaded_files.append(os.path.join(DOWNLOAD_DIR, file))
            
            # æ›´æ–°ä»»åŠ¡çŠ¶æ€ä¸ºå®Œæˆ
            task_info.update({
                'status': 'completed',
                'progress': 100,
                'completed_at': datetime.now().isoformat(),
                'downloaded_files': downloaded_files
            })
            redis_client.setex(f'task:{task_id}', 3600, json.dumps(task_info))
            
            return {'status': 'completed', 'files': downloaded_files}
        else:
            # æ›´æ–°ä»»åŠ¡çŠ¶æ€ä¸ºå¤±è´¥
            task_info.update({
                'status': 'failed',
                'error': process.stderr.read(),
                'completed_at': datetime.now().isoformat()
            })
            redis_client.setex(f'task:{task_id}', 3600, json.dumps(task_info))
            
            return {'status': 'failed', 'error': process.stderr.read()}
            
    except Exception as e:
        # æ›´æ–°ä»»åŠ¡çŠ¶æ€ä¸ºå¤±è´¥
        task_info.update({
            'status': 'failed',
            'error': str(e),
            'completed_at': datetime.now().isoformat()
        })
        redis_client.setex(f'task:{task_id}', 3600, json.dumps(task_info))
        
        return {'status': 'failed', 'error': str(e)}

@celery.task(bind=True)
def process_media_task(self, input_file, operations, task_id):
    """åª’ä½“å¤„ç†ä»»åŠ¡"""
    try:
        # æ›´æ–°ä»»åŠ¡çŠ¶æ€
        task_info = {
            'task_id': task_id,
            'input_file': input_file,
            'operations': operations,
            'status': 'processing',
            'progress': 0,
            'started_at': datetime.now().isoformat()
        }
        redis_client.setex(f'task:{task_id}', 3600, json.dumps(task_info))
        
        # ç”Ÿæˆè¾“å‡ºæ–‡ä»¶å
        output_filename = f"processed_{os.path.basename(input_file)}"
        output_file = os.path.join(PROCESSED_DIR, output_filename)
        
        # æ„å»ºffmpegå‘½ä»¤
        cmd = ['ffmpeg', '-i', input_file]
        
        # åº”ç”¨å„ç§æ“ä½œ
        if operations.get('trim'):
            trim = operations['trim']
            cmd.extend(['-ss', trim['start'], '-t', trim['duration']])
        
        if operations.get('resize'):
            resize = operations['resize']
            cmd.extend(['-s', f"{resize['width']}x{resize['height']}"])
        
        if operations.get('quality'):
            quality = operations['quality']
            cmd.extend(['-crf', str(quality)])
        
        if operations.get('fps'):
            fps = operations['fps']
            cmd.extend(['-r', str(fps)])
        
        # æ·»åŠ è¾“å‡ºæ–‡ä»¶
        cmd.append(output_file)
        
        # æ‰§è¡Œå¤„ç†
        process = subprocess.Popen(
            cmd,
            stdout=subprocess.PIPE,
            stderr=subprocess.PIPE,
            universal_newlines=True
        )
        
        # è§£æè¿›åº¦
        for line in process.stderr:
            if 'frame=' in line and 'fps=' in line:
                # å¯ä»¥åœ¨è¿™é‡Œè§£æffmpegè¿›åº¦
                pass
        
        process.wait()
        
        if process.returncode == 0:
            # æ›´æ–°ä»»åŠ¡çŠ¶æ€ä¸ºå®Œæˆ
            task_info.update({
                'status': 'completed',
                'progress': 100,
                'completed_at': datetime.now().isoformat(),
                'output_file': output_file
            })
            redis_client.setex(f'task:{task_id}', 3600, json.dumps(task_info))
            
            return {'status': 'completed', 'output_file': output_file}
        else:
            # æ›´æ–°ä»»åŠ¡çŠ¶æ€ä¸ºå¤±è´¥
            task_info.update({
                'status': 'failed',
                'error': process.stderr.read(),
                'completed_at': datetime.now().isoformat()
            })
            redis_client.setex(f'task:{task_id}', 3600, json.dumps(task_info))
            
            return {'status': 'failed', 'error': process.stderr.read()}
            
    except Exception as e:
        # æ›´æ–°ä»»åŠ¡çŠ¶æ€ä¸ºå¤±è´¥
        task_info.update({
            'status': 'failed',
            'error': str(e),
            'completed_at': datetime.now().isoformat()
        })
        redis_client.setex(f'task:{task_id}', 3600, json.dumps(task_info))
        
        return {'status': 'failed', 'error': str(e)}

if __name__ == '__main__':
    app.run(debug=True, host='0.0.0.0', port=5000)
```

#### 2. Celeryé…ç½® (celery_config.py)
```python
from celery import Celery

def make_celery(app):
    celery = Celery(
        app.import_name,
        backend=app.config['CELERY_RESULT_BACKEND'],
        broker=app.config['CELERY_BROKER_URL']
    )
    celery.conf.update(app.config)
    
    # é…ç½®ä»»åŠ¡åºåˆ—åŒ–
    celery.conf.task_serializer = 'json'
    celery.conf.accept_content = ['json']
    celery.conf.result_serializer = 'json'
    
    # é…ç½®æ—¶åŒº
    celery.conf.timezone = 'UTC'
    celery.conf.enable_utc = True
    
    # ä»»åŠ¡è·¯ç”±
    celery.conf.task_routes = {
        'app.download_video_task': {'queue': 'download'},
        'app.process_media_task': {'queue': 'process'}
    }
    
    return celery
```

#### 3. å‰ç«¯APIè°ƒç”¨æ›´æ–° (main.js)
```javascript
// æ›´æ–°åçš„APIè°ƒç”¨å‡½æ•°
class MediaProAPI {
    constructor() {
        this.baseURL = 'http://localhost:5000/api';
    }
    
    async analyzeUrl(url) {
        try {
            const response = await fetch(`${this.baseURL}/analyze`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ url })
            });
            
            return await response.json();
        } catch (error) {
            console.error('Analyze URL error:', error);
            throw error;
        }
    }
    
    async downloadVideo(url, formatId, options = {}) {
        try {
            const response = await fetch(`${this.baseURL}/download`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    url,
                    format_id: formatId,
                    include_subtitles: options.includeSubtitles || false,
                    subtitle_langs: options.subtitleLangs || ['zh-CN', 'en']
                })
            });
            
            return await response.json();
        } catch (error) {
            console.error('Download video error:', error);
            throw error;
        }
    }
    
    async getTaskStatus(taskId) {
        try {
            const response = await fetch(`${this.baseURL}/tasks/${taskId}`);
            return await response.json();
        } catch (error) {
            console.error('Get task status error:', error);
            throw error;
        }
    }
    
    async processMedia(inputFile, operations) {
        try {
            const response = await fetch(`${this.baseURL}/process`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    input_file: inputFile,
                    operations: operations
                })
            });
            
            return await response.json();
        } catch (error) {
            console.error('Process media error:', error);
            throw error;
        }
    }
    
    // è½®è¯¢ä»»åŠ¡çŠ¶æ€
    async pollTaskStatus(taskId, callback, interval = 1000) {
        const poll = async () => {
            try {
                const status = await this.getTaskStatus(taskId);
                callback(status);
                
                if (status.status === 'pending' || status.status === 'downloading' || status.status === 'processing') {
                    setTimeout(poll, interval);
                }
            } catch (error) {
                console.error('Polling error:', error);
            }
        };
        
        poll();
    }
}

// ä½¿ç”¨ç¤ºä¾‹
const api = new MediaProAPI();

// åˆ†æURL
async function handleUrlAnalysis() {
    const url = document.getElementById('video-url').value;
    
    try {
        const analysis = await api.analyzeUrl(url);
        
        if (analysis.error) {
            showNotification('åˆ†æå¤±è´¥: ' + analysis.error, 'error');
            return;
        }
        
        // æ˜¾ç¤ºåˆ†æç»“æœ
        displayAnalysisResults(analysis);
        showNotification('è§†é¢‘åˆ†æå®Œæˆ', 'success');
        
    } catch (error) {
        showNotification('ç½‘ç»œé”™è¯¯ï¼Œè¯·ç¨åé‡è¯•', 'error');
    }
}

// ä¸‹è½½è§†é¢‘
async function handleVideoDownload() {
    const url = document.getElementById('video-url').value;
    const selectedFormat = getSelectedFormat();
    const options = {
        includeSubtitles: document.getElementById('include-subtitles').checked,
        subtitleLangs: ['zh-CN', 'en']
    };
    
    try {
        const result = await api.downloadVideo(url, selectedFormat, options);
        
        if (result.error) {
            showNotification('ä¸‹è½½å¤±è´¥: ' + result.error, 'error');
            return;
        }
        
        // å¼€å§‹è½®è¯¢ä»»åŠ¡çŠ¶æ€
        api.pollTaskStatus(result.task_id, (status) => {
            updateDownloadProgress(status);
            
            if (status.status === 'completed') {
                showNotification('ä¸‹è½½å®Œæˆï¼', 'success');
                // æä¾›ä¸‹è½½é“¾æ¥
                showDownloadLinks(status.downloaded_files);
            } else if (status.status === 'failed') {
                showNotification('ä¸‹è½½å¤±è´¥: ' + status.error, 'error');
            }
        });
        
        showNotification('ä¸‹è½½ä»»åŠ¡å·²åˆ›å»º', 'info');
        
    } catch (error) {
        showNotification('ç½‘ç»œé”™è¯¯ï¼Œè¯·ç¨åé‡è¯•', 'error');
    }
}
```

### éƒ¨ç½²è¯´æ˜

#### 1. å¯åŠ¨åç«¯æœåŠ¡
```bash
# å¯åŠ¨Redis
redis-server

# å¯åŠ¨Celery Worker (æ–°ç»ˆç«¯)
celery -A app.celery worker --loglevel=info --queues=download,process

# å¯åŠ¨Flaskåº”ç”¨ (æ–°ç»ˆç«¯)
python app.py
```

#### 2. é…ç½®Nginxåå‘ä»£ç†
```nginx
server {
    listen 80;
    server_name your-domain.com;
    
    location /api {
        proxy_pass http://localhost:5000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
    
    location / {
        root /path/to/mediapro/frontend;
        index index.html;
        try_files $uri $uri/ /index.html;
    }
}
```

#### 3. ä½¿ç”¨Supervisorç®¡ç†è¿›ç¨‹
```ini
[program:mediapro-flask]
command=/path/to/venv/bin/python /path/to/app.py
directory=/path/to/mediapro/backend
user=www-data
autostart=true
autorestart=true
redirect_stderr=true
stdout_logfile=/var/log/mediapro/flask.log

[program:mediapro-celery]
command=/path/to/venv/bin/celery -A app.celery worker --loglevel=info --queues=download,process
directory=/path/to/mediapro/backend
user=www-data
autostart=true
autorestart=true
redirect_stderr=true
stdout_logfile=/var/log/mediapro/celery.log
```

### å®‰å…¨è€ƒè™‘

#### 1. è¾“å…¥éªŒè¯
```python
def validate_url(url):
    """éªŒè¯URLæ ¼å¼"""
    import re
    url_pattern = re.compile(
        r'^https?://'  # http:// or https://
        r'(?:(?:[A-Z0-9](?:[A-Z0-9-]{0,61}[A-Z0-9])?\.)+[A-Z]{2,6}\.?|'  # domain...
        r'localhost|'  # localhost...
        r'\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3})'  # ...or ip
        r'(?::\d+)?'  # optional port
        r'(?:/?|[/?]\S+)$', re.IGNORECASE)
    
    return url_pattern.match(url) is not None

def sanitize_filename(filename):
    """æ¸…ç†æ–‡ä»¶åï¼Œé˜²æ­¢è·¯å¾„éå†æ”»å‡»"""
    import re
    # ç§»é™¤éå­—æ¯æ•°å­—å­—ç¬¦
    filename = re.sub(r'[^\w\-_.]', '', filename)
    # é™åˆ¶é•¿åº¦
    filename = filename[:100]
    return filename
```

#### 2. èµ„æºé™åˆ¶
```python
# é™åˆ¶æ–‡ä»¶å¤§å°
MAX_FILE_SIZE = 5 * 1024 * 1024 * 1024  # 5GB

# é™åˆ¶å¹¶å‘ä»»åŠ¡æ•°
MAX_CONCURRENT_TASKS = 5

# è®¾ç½®è¶…æ—¶æ—¶é—´
TASK_TIMEOUT = 3600  # 1å°æ—¶
```

#### 3. è®¿é—®æ§åˆ¶
```python
from functools import wraps
from flask import session

def login_required(f):
    @wraps(f)
    def decorated_function(*args, **kwargs):
        if 'user_id' not in session:
            return jsonify({'error': 'Authentication required'}), 401
        return f(*args, **kwargs)
    return decorated_function

@app.route('/api/download', methods=['POST'])
@login_required
def download_video():
    # éœ€è¦ç™»å½•æ‰èƒ½ä¸‹è½½
    pass
```

### æ€§èƒ½ä¼˜åŒ–

#### 1. ç¼“å­˜ç­–ç•¥
```python
from functools import lru_cache

@lru_cache(maxsize=128)
def get_video_info(url):
    """ç¼“å­˜è§†é¢‘ä¿¡æ¯ï¼Œé¿å…é‡å¤åˆ†æ"""
    cmd = ['yt-dlp', '--dump-json', '--no-warnings', url]
    result = subprocess.run(cmd, capture_output=True, text=True)
    return json.loads(result.stdout) if result.returncode == 0 else None
```

#### 2. è¿æ¥æ± 
```python
from redis import ConnectionPool

# ä½¿ç”¨è¿æ¥æ± 
pool = ConnectionPool(host='localhost', port=6379, db=0, max_connections=20)
redis_client = redis.Redis(connection_pool=pool)
```

#### 3. å¼‚æ­¥å¤„ç†
```python
import asyncio
import aiohttp

async def fetch_video_info(session, url):
    async with session.get(f'https://api.example.com/video?url={url}') as response:
        return await response.json()

async def batch_analyze(urls):
    async with aiohttp.ClientSession() as session:
        tasks = [fetch_video_info(session, url) for url in urls]
        return await asyncio.gather(*tasks)
```

### ç›‘æ§å’Œæ—¥å¿—

#### 1. æ—¥å¿—é…ç½®
```python
import logging
from logging.handlers import RotatingFileHandler

# é…ç½®æ—¥å¿—
logging.basicConfig(
    level=logging.INFO,
    format='%(asctime)s %(levelname)s %(name)s %(message)s',
    handlers=[
        RotatingFileHandler('/var/log/mediapro/app.log', maxBytes=10*1024*1024, backupCount=5),
        logging.StreamHandler()
    ]
)

logger = logging.getLogger(__name__)
```

#### 2. æ€§èƒ½ç›‘æ§
```python
import time
from functools import wraps

def monitor_performance(f):
    @wraps(f)
    def decorated_function(*args, **kwargs):
        start_time = time.time()
        result = f(*args, **kwargs)
        end_time = time.time()
        
        execution_time = end_time - start_time
        logger.info(f'{f.__name__} executed in {execution_time:.2f} seconds')
        
        return result
    return decorated_function
```

### æ€»ç»“

é€šè¿‡å®ç°è¿™ä¸ªåç«¯æœåŠ¡ï¼ŒMediaProä»ä¸€ä¸ªçº¯å‰ç«¯æ¼”ç¤ºè½¬å˜ä¸ºä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„åª’ä½“å¤„ç†å¹³å°ã€‚åç«¯æœåŠ¡æä¾›äº†ï¼š

1. **çœŸå®çš„è§†é¢‘ä¸‹è½½**: é€šè¿‡yt-dlpæ”¯æŒ1000+ç½‘ç«™
2. **ä¸“ä¸šçš„è§†é¢‘å¤„ç†**: é€šè¿‡ffmpegæä¾›å®Œæ•´çš„éŸ³è§†é¢‘å¤„ç†åŠŸèƒ½
3. **å¼‚æ­¥ä»»åŠ¡å¤„ç†**: é€šè¿‡Celeryæ”¯æŒå¤§è§„æ¨¡å¹¶å‘å¤„ç†
4. **è¿›åº¦è·Ÿè¸ª**: å®æ—¶ç›‘æ§å¤„ç†è¿›åº¦
5. **å®‰å…¨ç®¡ç†**: è¾“å…¥éªŒè¯ã€èµ„æºé™åˆ¶ã€è®¿é—®æ§åˆ¶
6. **æ€§èƒ½ä¼˜åŒ–**: ç¼“å­˜ã€è¿æ¥æ± ã€å¼‚æ­¥å¤„ç†

è¿™ä¸ªæ¶æ„æ—¢ä¿è¯äº†åŠŸèƒ½çš„å®Œæ•´æ€§ï¼Œåˆç¡®ä¿äº†ç³»ç»Ÿçš„å®‰å…¨æ€§å’Œå¯æ‰©å±•æ€§ã€‚

---

## åª’ä½“å¤„ç†å¹³å°è®¾è®¡è§„èŒƒ

### è®¾è®¡ç†å¿µ

#### æ ¸å¿ƒæ¦‚å¿µ
- **æŠ€æœ¯ä¸“ä¸šæ„Ÿ**: æ·±è‰²ä¸»é¢˜é…åˆç²¾å‡†çš„äº¤äº’è®¾è®¡ï¼Œä½“ç°ä¸“ä¸šçš„åª’ä½“å¤„ç†èƒ½åŠ›
- **ç›´è§‚æ˜“ç”¨æ€§**: æ¸…æ™°çš„åŠŸèƒ½åˆ†åŒºå’Œå¼•å¯¼å¼æ“ä½œæµç¨‹ï¼Œé™ä½ç”¨æˆ·å­¦ä¹ æˆæœ¬
- **ç°ä»£ç¾å­¦**: é‡‡ç”¨å½“ä»£è®¾è®¡è¶‹åŠ¿ï¼Œè¥é€ å‰æ²¿ç§‘æŠ€çš„è§†è§‰ä½“éªŒ
- **å“åº”å¼è®¾è®¡**: å®Œç¾é€‚é…æ¡Œé¢ã€å¹³æ¿å’Œç§»åŠ¨è®¾å¤‡

#### é¢œè‰²ç³»ç»Ÿ
**ä¸»è‰²è°ƒ**: æ·±ç©ºè“é…è‰²æ–¹æ¡ˆ
- **ä¸»èƒŒæ™¯**: `#0a0e1a` (æ·±è“é»‘è‰²)
- **æ¬¡èƒŒæ™¯**: `#1a1f2e` (ä¸­ç­‰æ·±è“)
- **é¢æ¿èƒŒæ™¯**: `#252a3a` (æµ…æ·±è“)
- **å¼ºè°ƒè‰²**: `#4a90e2` (äº®è“è‰²)
- **æˆåŠŸè‰²**: `#27ae60` (ç»¿è‰²)
- **è­¦å‘Šè‰²**: `#f39c12` (æ©™è‰²)
- **é”™è¯¯è‰²**: `#e74c3c` (çº¢è‰²)
- **æ–‡å­—ä¸»è‰²**: `#ffffff` (çº¯ç™½)
- **æ–‡å­—æ¬¡è‰²**: `#b8c5d1` (æµ…ç°è“)

**è¾…åŠ©è‰²å½©**:
- **æ¸å˜è‰²**: ä»`#2c3e50`åˆ°`#34495e`çš„å¾®å¦™æ¸å˜
- **å¡ç‰‡é˜´å½±**: `rgba(0, 0, 0, 0.3)`çš„æŸ”å’Œé˜´å½±
- **è¾¹æ¡†è‰²**: `rgba(255, 255, 255, 0.1)`çš„åŠé€æ˜è¾¹æ¡†

#### å­—ä½“ç³»ç»Ÿ
**ä¸»å­—ä½“**: Inter (ç°ä»£æ— è¡¬çº¿å­—ä½“)
- **æ ‡é¢˜å­—ä½“**: Inter Bold (700)
- **æ­£æ–‡å­—ä½“**: Inter Regular (400)
- **ä»£ç å­—ä½“**: JetBrains Mono (ç­‰å®½å­—ä½“)

**å­—ä½“å±‚çº§**:
- **å¤§æ ‡é¢˜**: 32px, font-weight: 700
- **ä¸­æ ‡é¢˜**: 24px, font-weight: 600
- **å°æ ‡é¢˜**: 18px, font-weight: 500
- **æ­£æ–‡**: 16px, font-weight: 400
- **è¾…åŠ©æ–‡å­—**: 14px, font-weight: 400
- **æ ‡ç­¾æ–‡å­—**: 12px, font-weight: 500

#### å¸ƒå±€ç³»ç»Ÿ
**ç½‘æ ¼ç³»ç»Ÿ**: 12åˆ—å“åº”å¼ç½‘æ ¼
- **å®¹å™¨æœ€å¤§å®½åº¦**: 1200px
- **æ°´å¹³é—´è·**: 24px
- **å‚ç›´é—´è·**: 32px
- **è¾¹è·**: ç§»åŠ¨ç«¯16pxï¼Œæ¡Œé¢ç«¯24px

**ç»„ä»¶é—´è·**:
- **å¤§é—´è·**: 48px (ä¸»è¦åŒºå—ä¹‹é—´)
- **ä¸­é—´è·**: 24px (ç›¸å…³ç»„ä»¶ä¹‹é—´)
- **å°é—´è·**: 12px (ç´§å¯†ç›¸å…³å…ƒç´ )
- **å¾®é—´è·**: 8px (æ ‡ç­¾å’Œè¾“å…¥æ¡†ç­‰)

### è§†è§‰æ•ˆæœ

#### åŠ¨ç”»æ•ˆæœåº“
**Anime.jsåŠ¨ç”»ç³»ç»Ÿ**:
- **é¡µé¢è½¬åœº**: æµç•…çš„æ·¡å…¥æ·¡å‡ºæ•ˆæœï¼ŒæŒç»­300ms
- **æŒ‰é’®äº¤äº’**: å¾®å¦™çš„ç¼©æ”¾å’Œé¢œè‰²è¿‡æ¸¡ï¼ŒæŒç»­150ms
- **å¡ç‰‡æ‚¬åœ**: è½»å¾®çš„3Då€¾æ–œå’Œé˜´å½±æ‰©å±•
- **è¿›åº¦æ¡**: å¹³æ»‘çš„è¿›åº¦åŠ¨ç”»ï¼Œé…åˆå¼¹æ€§ç¼“åŠ¨
- **åŠ è½½çŠ¶æ€**: æ—‹è½¬å’Œè„‰å†²æ•ˆæœçš„ç»„åˆåŠ¨ç”»

**ç‰¹æ•ˆå®ç°**:
- **èƒŒæ™¯ç²’å­**: ä½¿ç”¨Pixi.jsåˆ›å»ºåŠ¨æ€ç²’å­èƒŒæ™¯
- **æ•°æ®å¯è§†åŒ–**: ECharts.jså®ç°å¤„ç†ç»Ÿè®¡å›¾è¡¨
- **æ–‡ä»¶æ‹–æ‹½**: Matter.jsç‰©ç†å¼•æ“å®ç°è‡ªç„¶çš„æ‹–æ‹½ä½“éªŒ

#### äº¤äº’è®¾è®¡
**æ‚¬åœæ•ˆæœ**:
- **æŒ‰é’®**: èƒŒæ™¯è‰²æ¸å˜ + è½»å¾®é˜´å½±æ‰©å±•
- **å¡ç‰‡**: 3Då€¾æ–œæ•ˆæœ + è¾¹æ¡†å‘å…‰
- **è¾“å…¥æ¡†**: è¾¹æ¡†é¢œè‰²å˜åŒ– + å†…éƒ¨é˜´å½±
- **å›¾æ ‡**: é¢œè‰²å¡«å……åŠ¨ç”» + è½»å¾®æ—‹è½¬

**ç‚¹å‡»åé¦ˆ**:
- **æŒ‰é’®æŒ‰ä¸‹**: è½»å¾®ç¼©æ”¾(0.95) + é˜´å½±æ”¶ç¼©
- **å¼€å…³åˆ‡æ¢**: å¹³æ»‘çš„æ»‘åŠ¨åŠ¨ç”»
- **é€‰é¡¹é€‰æ‹©**: è¾¹æ¡†é«˜äº® + å†…éƒ¨å¡«å……åŠ¨ç”»
- **æ–‡ä»¶ä¸Šä¼ **: æ‹–æ‹½åŒºåŸŸé«˜äº® + è¾¹æ¡†é—ªçƒ

#### èƒŒæ™¯è®¾è®¡
**ä¸»èƒŒæ™¯**: æ·±è‰²æ¸å˜ + åŠ¨æ€ç²’å­æ•ˆæœ
- **åŸºç¡€æ¸å˜**: ä»`#0a0e1a`åˆ°`#1a1f2e`çš„å¾„å‘æ¸å˜
- **ç²’å­ç³»ç»Ÿ**: ä½¿ç”¨Pixi.jsåˆ›å»ºç¼“æ…¢ç§»åŠ¨çš„å…‰ç‚¹
- **ç½‘æ ¼çº¹ç†**: å¾®å¦™çš„å…­è¾¹å½¢ç½‘æ ¼å›¾æ¡ˆä½œä¸ºè£…é¥°

**åŒºåŸŸèƒŒæ™¯**:
- **åŠŸèƒ½åŒº**: åŠé€æ˜çš„æ·±è‰²é¢æ¿ï¼Œå¸¦æœ‰å¾®å¦™çš„è¾¹æ¡†
- **å·¥å…·æ **: æ›´æ·±çš„èƒŒæ™¯è‰²ï¼Œçªå‡ºå·¥å…·å±æ€§
- **é¢„è§ˆåŒº**: ä¸­æ€§ç°èƒŒæ™¯ï¼Œç¡®ä¿å†…å®¹æ¸…æ™°å¯è§

### ç»„ä»¶è®¾è®¡

#### æŒ‰é’®ç³»ç»Ÿ
**ä¸»è¦æŒ‰é’®**:
- **èƒŒæ™¯**: æ¸å˜è‰²ä»`#4a90e2`åˆ°`#357abd`
- **æ–‡å­—**: ç™½è‰²ï¼Œfont-weight: 500
- **è¾¹æ¡†**: æ— è¾¹æ¡†æˆ–1pxåŠé€æ˜è¾¹æ¡†
- **é˜´å½±**: `0 4px 12px rgba(74, 144, 226, 0.3)`
- **æ‚¬åœ**: èƒŒæ™¯è‰²åŠ æ·±ï¼Œé˜´å½±æ‰©å±•

**æ¬¡è¦æŒ‰é’®**:
- **èƒŒæ™¯**: é€æ˜
- **æ–‡å­—**: `#4a90e2`
- **è¾¹æ¡†**: 1px solid `#4a90e2`
- **æ‚¬åœ**: èƒŒæ™¯è‰²å¡«å……ä¸º`rgba(74, 144, 226, 0.1)`

**å±é™©æŒ‰é’®**:
- **èƒŒæ™¯**: `#e74c3c`
- **æ‚¬åœ**: èƒŒæ™¯è‰²`#c0392b`

#### è¡¨å•å…ƒç´ 
**è¾“å…¥æ¡†**:
- **èƒŒæ™¯**: `#252a3a`
- **è¾¹æ¡†**: 1px solid `rgba(255, 255, 255, 0.1)`
- **æ–‡å­—**: `#ffffff`
- **å ä½ç¬¦**: `rgba(184, 197, 209, 0.5)`
- **èšç„¦**: è¾¹æ¡†è‰²`#4a90e2`ï¼Œå†…éƒ¨é˜´å½±`inset 0 0 0 1px #4a90e2`

**é€‰æ‹©å™¨**:
- **èƒŒæ™¯**: `#252a3a`
- **ç®­å¤´**: è‡ªå®šä¹‰SVGå›¾æ ‡
- **é€‰é¡¹**: æ‚¬åœèƒŒæ™¯`rgba(74, 144, 226, 0.1)`

**æ»‘å—**:
- **è½¨é“**: `#252a3a`ï¼Œé«˜åº¦4px
- **æ»‘å—**: `#4a90e2`ï¼Œç›´å¾„16px
- **å¡«å……**: `#4a90e2`çš„æ¸å˜å¡«å……

#### è¿›åº¦æŒ‡ç¤ºå™¨
**è¿›åº¦æ¡**:
- **èƒŒæ™¯**: `#252a3a`
- **å¡«å……**: ä»`#4a90e2`åˆ°`#27ae60`çš„æ¸å˜
- **åŠ¨ç”»**: å¹³æ»‘çš„å®½åº¦è¿‡æ¸¡
- **æ–‡å­—**: ç™½è‰²ç™¾åˆ†æ¯”æ˜¾ç¤º

**åŠ è½½åŠ¨ç”»**:
- **æ ·å¼**: æ—‹è½¬çš„åœ†ç¯
- **é¢œè‰²**: `#4a90e2`
- **å¤§å°**: 24pxæ ‡å‡†å°ºå¯¸
- **é€Ÿåº¦**: 1ç§’æ¯è½¬

#### å¡ç‰‡å’Œé¢æ¿
**åŠŸèƒ½å¡ç‰‡**:
- **èƒŒæ™¯**: `#252a3a`
- **è¾¹æ¡†**: 1px solid `rgba(255, 255, 255, 0.1)`
- **åœ†è§’**: 8px
- **é˜´å½±**: `0 4px 12px rgba(0, 0, 0, 0.2)`
- **æ‚¬åœ**: è¾¹æ¡†è‰²`#4a90e2`ï¼Œé˜´å½±æ‰©å±•

**ä¿¡æ¯é¢æ¿**:
- **èƒŒæ™¯**: `rgba(37, 42, 58, 0.95)`
- **è¾¹æ¡†**: 1px solid `rgba(74, 144, 226, 0.3)`
- **æ ‡é¢˜**: `#4a90e2`
- **å†…å®¹**: `#b8c5d1`

### å“åº”å¼è®¾è®¡

#### æ–­ç‚¹è®¾ç½®
- **ç§»åŠ¨ç«¯**: < 768px
- **å¹³æ¿ç«¯**: 768px - 1024px  
- **æ¡Œé¢ç«¯**: > 1024px

#### é€‚é…ç­–ç•¥
**ç§»åŠ¨ç«¯ä¼˜åŒ–**:
- **å­—ä½“å¤§å°**: æ•´ä½“ç¼©å°10%
- **é—´è·è°ƒæ•´**: å‚ç›´é—´è·å‡å°‘25%
- **æŒ‰é’®å°ºå¯¸**: æœ€å°44pxè§¦æ‘¸ç›®æ ‡
- **è¡¨å•å¸ƒå±€**: å•åˆ—å¸ƒå±€ï¼Œå…¨å®½è¾“å…¥æ¡†

**å¹³æ¿ç«¯ä¼˜åŒ–**:
- **ç½‘æ ¼è°ƒæ•´**: 6åˆ—ç½‘æ ¼ç³»ç»Ÿ
- **ä¾§è¾¹æ **: å¯æ”¶ç¼©çš„ä¾§è¾¹å¯¼èˆª
- **é¢„è§ˆåŒº**: å æ®æ›´å¤šå±å¹•ç©ºé—´

**æ¡Œé¢ç«¯ä¼˜åŒ–**:
- **å¤šåˆ—å¸ƒå±€**: å……åˆ†åˆ©ç”¨å®½å±ç©ºé—´
- **å¿«æ·é”®**: æ”¯æŒé”®ç›˜å¿«æ·æ“ä½œ
- **å¤šçª—å£**: æ”¯æŒå¤šä»»åŠ¡å¹¶è¡Œå¤„ç†

### å¯è®¿é—®æ€§è®¾è®¡

#### é¢œè‰²å¯¹æ¯”åº¦
- **æ–‡å­—å¯¹æ¯”åº¦**: è‡³å°‘4.5:1çš„å¯¹æ¯”åº¦æ¯”
- **å›¾æ ‡å¯¹æ¯”åº¦**: è‡³å°‘3:1çš„å¯¹æ¯”åº¦æ¯”
- **çŠ¶æ€æŒ‡ç¤º**: ä¸ä»…ä¾èµ–é¢œè‰²ï¼Œè¿˜ä½¿ç”¨å›¾æ ‡å’Œæ–‡å­—

#### é”®ç›˜å¯¼èˆª
- **Tabé¡ºåº**: é€»è¾‘æ¸…æ™°çš„ç„¦ç‚¹é¡ºåº
- **ç„¦ç‚¹æŒ‡ç¤º**: æ˜æ˜¾çš„ç„¦ç‚¹é«˜äº®æ•ˆæœ
- **å¿«æ·é”®**: å¸¸ç”¨åŠŸèƒ½çš„é”®ç›˜å¿«æ·é”®
- **è·³è¿‡é“¾æ¥**: å±å¹•é˜…è¯»å™¨å‹å¥½çš„è·³è¿‡å¯¼èˆª

#### å±å¹•é˜…è¯»å™¨æ”¯æŒ
- **è¯­ä¹‰åŒ–HTML**: æ­£ç¡®ä½¿ç”¨ARIAæ ‡ç­¾
- **å›¾ç‰‡æè¿°**: æ‰€æœ‰å›¾åƒæä¾›altæ–‡æœ¬
- **çŠ¶æ€é€šçŸ¥**: åŠ¨æ€å†…å®¹å˜åŒ–åŠæ—¶é€šçŸ¥
- **é”™è¯¯æç¤º**: æ¸…æ™°çš„å¯è®¿é—®é”™è¯¯ä¿¡æ¯

---

## åª’ä½“å¤„ç†å¹³å°äº¤äº’è®¾è®¡

### æ ¸å¿ƒåŠŸèƒ½æ¶æ„

#### 1. è§†é¢‘ä¸‹è½½æ¨¡å— (yt-dlpé›†æˆ)
- **URLè¾“å…¥åŒºåŸŸ**: æ”¯æŒYouTubeã€Bilibiliã€Vimeoç­‰ä¸»æµå¹³å°
- **è´¨é‡é€‰æ‹©å™¨**: æä¾›720pã€1080pã€4Kç­‰é€‰é¡¹ï¼Œæ˜¾ç¤ºæ–‡ä»¶å¤§å°é¢„ä¼°
- **éŸ³é¢‘è´¨é‡é€‰æ‹©**: 128kbpsã€192kbpsã€320kbpsç­‰é€‰é¡¹
- **å­—å¹•é€‰é¡¹**: åŒ…å«/ä¸åŒ…å«å­—å¹•ä¸‹è½½ï¼Œæ”¯æŒå¤šè¯­è¨€é€‰æ‹©
- **æ ¼å¼é€‰æ‹©**: MP4ã€MKVã€WebMç­‰å®¹å™¨æ ¼å¼
- **ä¸‹è½½è¿›åº¦**: å®æ—¶æ˜¾ç¤ºä¸‹è½½è¿›åº¦æ¡å’Œé€Ÿåº¦

#### 2. è§†é¢‘å¤„ç†æ¨¡å— (ffmpegé›†æˆ)
- **è§†é¢‘è£å‰ª**: æ—¶é—´è½´é€‰æ‹©å™¨ï¼Œæ”¯æŒç²¾ç¡®åˆ°ç§’çš„å¼€å§‹å’Œç»“æŸæ—¶é—´
- **è§†é¢‘åˆå¹¶**: å¤šæ–‡ä»¶ä¸Šä¼ ï¼Œæ”¯æŒæ‹–æ‹½æ’åº
- **åˆ†è¾¨ç‡è°ƒæ•´**: é¢„è®¾åˆ†è¾¨ç‡é€‰é¡¹å’Œè‡ªå®šä¹‰è¾“å…¥
- **å¸§ç‡è°ƒæ•´**: 24fpsã€30fpsã€60fpsç­‰é€‰é¡¹
- **è§†é¢‘å‹ç¼©**: è´¨é‡æ»‘å—ï¼Œå®æ—¶é¢„è§ˆå‹ç¼©æ•ˆæœ
- **æ°´å°æ·»åŠ **: æ–‡å­—/å›¾ç‰‡æ°´å°ï¼Œä½ç½®å’Œå¤§å°çš„å¯è§†åŒ–è°ƒæ•´

#### 3. éŸ³é¢‘å¤„ç†æ¨¡å—
- **éŸ³é¢‘æå–**: ä»è§†é¢‘ä¸­æå–éŸ³é¢‘ï¼Œé€‰æ‹©è¾“å‡ºæ ¼å¼
- **æ ¼å¼è½¬æ¢**: MP3ã€WAVã€FLACã€AACç­‰æ ¼å¼äº’è½¬
- **éŸ³é¢‘å‰ªè¾‘**: æ³¢å½¢æ˜¾ç¤ºï¼Œæ”¯æŒç²¾ç¡®å‰ªè¾‘
- **éŸ³é‡è°ƒæ•´**: å¢ç›Šæ§åˆ¶å’Œæ ‡å‡†åŒ–
- **éŸ³é¢‘åˆå¹¶**: å¤šéŸ³è½¨æ··åˆï¼ŒéŸ³é‡å¹³è¡¡è°ƒèŠ‚
- **éŸ³æ•ˆå¤„ç†**: æ·¡å…¥æ·¡å‡ºã€é™å™ªã€å‡è¡¡å™¨ç­‰

#### 4. æ‰¹å¤„ç†åŠŸèƒ½
- **æ‰¹é‡ä¸‹è½½**: æ”¯æŒæ’­æ”¾åˆ—è¡¨å’Œå¤šä¸ªURL
- **æ‰¹é‡è½¬æ¢**: æ–‡ä»¶å¤¹æ‹–æ‹½ä¸Šä¼ ï¼Œç»Ÿä¸€å¤„ç†
- **é˜Ÿåˆ—ç®¡ç†**: å¤„ç†é˜Ÿåˆ—æ˜¾ç¤ºï¼Œæ”¯æŒæš‚åœå’Œåˆ é™¤
- **æ‰¹é‡è®¾ç½®**: ç»Ÿä¸€å‚æ•°é…ç½®åº”ç”¨åˆ°æ‰€æœ‰ä»»åŠ¡

### ç”¨æˆ·äº¤äº’æµç¨‹

#### ä¸»é¡µé¢æµç¨‹
1. ç”¨æˆ·è¿›å…¥ä¸»é¡µï¼Œçœ‹åˆ°æ¸…æ™°çš„åŠŸèƒ½åˆ†åŒº
2. é€‰æ‹©æ‰€éœ€åŠŸèƒ½ï¼šä¸‹è½½ã€ç¼–è¾‘æˆ–è½¬æ¢
3. æ ¹æ®å¼•å¯¼å¡«å†™å‚æ•°ï¼Œå®æ—¶é¢„è§ˆæ•ˆæœ
4. å¼€å§‹å¤„ç†ï¼ŒæŸ¥çœ‹è¿›åº¦å’Œç»“æœ
5. ä¸‹è½½å¤„ç†å®Œæˆçš„æ–‡ä»¶

#### è§†é¢‘ä¸‹è½½äº¤äº’
1. ç²˜è´´URL â†’ è‡ªåŠ¨æ£€æµ‹å¹³å°å’Œå¯ç”¨è´¨é‡
2. é€‰æ‹©å‚æ•° â†’ å®æ—¶æ˜¾ç¤ºæ–‡ä»¶å¤§å°å’Œé¢„ä¼°æ—¶é—´
3. å¼€å§‹ä¸‹è½½ â†’ è¿›åº¦æ¡æ˜¾ç¤ºï¼Œæ”¯æŒå–æ¶ˆæ“ä½œ
4. å®Œæˆä¸‹è½½ â†’ æä¾›åç»­å¤„ç†é€‰é¡¹

#### è§†é¢‘ç¼–è¾‘äº¤äº’
1. ä¸Šä¼ æ–‡ä»¶ â†’ é¢„è§ˆçª—å£æ˜¾ç¤ºè§†é¢‘
2. è®¾ç½®å‚æ•° â†’ å®æ—¶é¢„è§ˆæ•ˆæœå˜åŒ–
3. åº”ç”¨å¤„ç† â†’ å¤„ç†è¿›åº¦å’Œç»“æœé¢„è§ˆ
4. ä¸‹è½½ç»“æœ â†’ è´¨é‡æ£€æŸ¥å’Œæ–‡ä»¶ä¿å­˜

### ç•Œé¢è®¾è®¡åŸåˆ™
- **ç®€æ´ç›´è§‚**: åŠŸèƒ½åˆ†ç±»æ¸…æ™°ï¼Œæ“ä½œæ­¥éª¤æ˜ç¡®
- **å®æ—¶åé¦ˆ**: æ‰€æœ‰æ“ä½œéƒ½æœ‰å³æ—¶è§†è§‰åé¦ˆ
- **ä¸“ä¸šæ„Ÿ**: æ·±è‰²ä¸»é¢˜é…åˆä¸“ä¸šçš„æ§åˆ¶é¢æ¿è®¾è®¡
- **å“åº”å¼**: é€‚é…ä¸åŒå±å¹•å°ºå¯¸å’Œè®¾å¤‡
- **æ— éšœç¢**: æ”¯æŒé”®ç›˜å¯¼èˆªå’Œå±å¹•é˜…è¯»å™¨

---

## åª’ä½“å¤„ç†å¹³å°é¡¹ç›®å¤§çº²

### é¡¹ç›®æ¦‚è¿°

#### ç›®æ ‡å®šä½
æ„å»ºä¸€ä¸ªåŠŸèƒ½å…¨é¢çš„åœ¨çº¿åª’ä½“å¤„ç†å¹³å°ï¼Œé›†æˆyt-dlpå’Œffmpegçš„æ ¸å¿ƒåŠŸèƒ½ï¼Œä¸ºç”¨æˆ·æä¾›ä¸“ä¸šçš„è§†é¢‘ä¸‹è½½ã€ç¼–è¾‘å’ŒéŸ³é¢‘å¤„ç†æœåŠ¡ã€‚

#### æ ¸å¿ƒä»·å€¼
- **ä¸€ç«™å¼è§£å†³æ–¹æ¡ˆ**: ä»ä¸‹è½½åˆ°ç¼–è¾‘çš„å®Œæ•´å·¥ä½œæµ
- **ä¸“ä¸šçº§å¤„ç†èƒ½åŠ›**: åª²ç¾æ¡Œé¢è½¯ä»¶çš„åŠŸèƒ½å¼ºåº¦
- **ç›´è§‚ç”¨æˆ·ä½“éªŒ**: å¤æ‚åŠŸèƒ½ç®€åŒ–å‘ˆç°
- **é«˜æ•ˆå¤„ç†æ€§èƒ½**: ä¼˜åŒ–çš„ç®—æ³•å’Œæµç¨‹è®¾è®¡

### ç½‘ç«™æ¶æ„

#### é¡µé¢ç»“æ„ (4ä¸ªæ ¸å¿ƒé¡µé¢)
1. **index.html** - ä¸»é¡µé¢/è§†é¢‘ä¸‹è½½ä¸­å¿ƒ
2. **video-editor.html** - è§†é¢‘ç¼–è¾‘å·¥ä½œå®¤
3. **audio-processor.html** - éŸ³é¢‘å¤„ç†å®éªŒå®¤
4. **about.html** - å…³äºå¹³å°/ä½¿ç”¨æŒ‡å—

#### å¯¼èˆªç³»ç»Ÿ
- **é¡¶éƒ¨å¯¼èˆªæ **: å›ºå®šä½ç½®ï¼ŒåŒ…å«æ‰€æœ‰ä¸»è¦åŠŸèƒ½å…¥å£
- **é¢åŒ…å±‘å¯¼èˆª**: æ˜¾ç¤ºå½“å‰ä½ç½®å’Œè¿”å›è·¯å¾„
- **å¿«é€Ÿæ“ä½œæ **: å¸¸ç”¨åŠŸèƒ½çš„å¿«æ·è®¿é—®

### è¯¦ç»†é¡µé¢è§„åˆ’

#### 1. ä¸»é¡µé¢ (index.html) - è§†é¢‘ä¸‹è½½ä¸­å¿ƒ

**é¡µé¢ç»“æ„**:
- **HeroåŒºåŸŸ**: ä¸“ä¸šåª’ä½“å·¥ä½œç©ºé—´èƒŒæ™¯ + æ ¸å¿ƒä»·å€¼ä¸»å¼ 
- **ä¸»è¦åŠŸèƒ½åŒºåŸŸ**:
  - URLè¾“å…¥å’ŒéªŒè¯åŒº
  - è´¨é‡å’Œæ ¼å¼é€‰æ‹©é¢æ¿
  - ä¸‹è½½è¿›åº¦ç›‘æ§åŒº
  - æ‰¹é‡å¤„ç†ç®¡ç†å™¨
- **åŠŸèƒ½å±•ç¤ºåŒº**: æ”¯æŒçš„1000+ç½‘ç«™å›¾æ ‡å±•ç¤º
- **ç»Ÿè®¡é¢æ¿**: å®æ—¶å¤„ç†æ•°æ®å’ŒæˆåŠŸç‡ç»Ÿè®¡

**æ ¸å¿ƒåŠŸèƒ½æ¨¡å—**:
1. **æ™ºèƒ½URLè¯†åˆ«**
   - è‡ªåŠ¨æ£€æµ‹å¹³å°ç±»å‹
   - æ”¯æŒ1000+ä¸»æµç½‘ç«™
   - URLæ ¼å¼éªŒè¯å’Œé”™è¯¯æç¤º

2. **è´¨é‡é€‰æ‹©ç³»ç»Ÿ**
   - è‡ªåŠ¨åˆ†æå¯ç”¨æ ¼å¼
   - æ–‡ä»¶å¤§å°é¢„ä¼°æ˜¾ç¤º
   - ç”»è´¨/éŸ³è´¨å¹³è¡¡å»ºè®®

3. **ä¸‹è½½ç®¡ç†**
   - å¤šçº¿ç¨‹ä¸‹è½½æ”¯æŒ
   - æ–­ç‚¹ç»­ä¼ åŠŸèƒ½
   - å®æ—¶é€Ÿåº¦ç›‘æ§

4. **æ‰¹é‡å¤„ç†**
   - æ’­æ”¾åˆ—è¡¨ä¸‹è½½
   - å¤šURLé˜Ÿåˆ—ç®¡ç†
   - ç»Ÿä¸€å‚æ•°é…ç½®

**è§†è§‰å…ƒç´ **:
- åŠ¨æ€ç²’å­èƒŒæ™¯æ•ˆæœ
- å®æ—¶è¿›åº¦æ¡åŠ¨ç”»
- ç½‘ç«™å›¾æ ‡è½®æ’­å±•ç¤º
- å¤„ç†ç»Ÿè®¡æ•°æ®å¯è§†åŒ–

#### 2. è§†é¢‘ç¼–è¾‘é¡µé¢ (video-editor.html) - è§†é¢‘ç¼–è¾‘å·¥ä½œå®¤

**é¡µé¢ç»“æ„**:
- **å·¥å…·æ åŒºåŸŸ**: æ‰€æœ‰ç¼–è¾‘å·¥å…·çš„é›†ä¸­æ§åˆ¶
- **é¢„è§ˆåŒºåŸŸ**: å¤§å°ºå¯¸è§†é¢‘é¢„è§ˆçª—å£
- **æ—¶é—´è½´åŒºåŸŸ**: ç²¾ç¡®çš„æ—¶é—´çº¿ç¼–è¾‘ç•Œé¢
- **å‚æ•°é¢æ¿**: è¯¦ç»†çš„å¤„ç†å‚æ•°é…ç½®
- **è¾“å‡ºè®¾ç½®**: æœ€ç»ˆè¾“å‡ºæ ¼å¼å’Œè´¨é‡é€‰æ‹©

**æ ¸å¿ƒåŠŸèƒ½æ¨¡å—**:
1. **è§†é¢‘è£å‰ªç³»ç»Ÿ**
   - å¯è§†åŒ–æ—¶é—´è½´é€‰æ‹©
   - ç²¾ç¡®åˆ°æ¯«ç§’çš„æ—¶é—´æ§åˆ¶
   - å®æ—¶é¢„è§ˆè£å‰ªæ•ˆæœ

2. **æ ¼å¼è½¬æ¢å¼•æ“**
   - 15+ç§è¾“å‡ºæ ¼å¼æ”¯æŒ
   - æ™ºèƒ½å‹ç¼©ç®—æ³•
   - è´¨é‡ä¿æŒä¼˜åŒ–

3. **ç‰¹æ•ˆå¤„ç†**
   - æ°´å°æ·»åŠ (æ–‡å­—/å›¾ç‰‡)
   - æ»¤é•œæ•ˆæœåº”ç”¨
   - è½¬åœºæ•ˆæœé€‰æ‹©

4. **æ‰¹é‡ç¼–è¾‘**
   - å¤šæ–‡ä»¶åŒæ—¶å¤„ç†
   - ç»Ÿä¸€å‚æ•°åº”ç”¨
   - é˜Ÿåˆ—ç®¡ç†ä¼˜åŒ–

**äº¤äº’ç‰¹æ€§**:
- æ‹–æ‹½æ–‡ä»¶ä¸Šä¼ 
- é”®ç›˜å¿«æ·é”®æ”¯æŒ
- å®æ—¶æ•ˆæœé¢„è§ˆ
- æ’¤é”€/é‡åšåŠŸèƒ½

#### 3. éŸ³é¢‘å¤„ç†é¡µé¢ (audio-processor.html) - éŸ³é¢‘å¤„ç†å®éªŒå®¤

**é¡µé¢ç»“æ„**:
- **æ³¢å½¢æ˜¾ç¤ºåŒº**: å¤§å°ºå¯¸éŸ³é¢‘æ³¢å½¢å¯è§†åŒ–
- **å·¥å…·æ§åˆ¶åŒº**: éŸ³é¢‘å¤„ç†å·¥å…·é›†
- **æ•ˆæœå™¨é¢æ¿**: å„ç§éŸ³é¢‘æ•ˆæœå‚æ•°
- **æ ¼å¼é€‰æ‹©åŒº**: è¾“å‡ºæ ¼å¼å’Œè´¨é‡è®¾ç½®
- **æ‰¹é‡å¤„ç†åŒº**: å¤šæ–‡ä»¶å¤„ç†ç®¡ç†

**æ ¸å¿ƒåŠŸèƒ½æ¨¡å—**:
1. **éŸ³é¢‘æå–ç³»ç»Ÿ**
   - ä»è§†é¢‘ä¸­æå–éŸ³é¢‘
   - æ— æŸéŸ³è´¨ä¿æŒ
   - å¤šéŸ³è½¨é€‰æ‹©æ”¯æŒ

2. **æ ¼å¼è½¬æ¢çŸ©é˜µ**
   - MP3ã€WAVã€FLACã€AACç­‰æ ¼å¼
   - éŸ³è´¨è‡ªå®šä¹‰è®¾ç½®
   - æ‰¹é‡è½¬æ¢æ”¯æŒ

3. **éŸ³é¢‘ç¼–è¾‘å·¥å…·**
   - ç²¾ç¡®å‰ªè¾‘åŠŸèƒ½
   - éŸ³é‡è°ƒèŠ‚æ§åˆ¶
   - æ·¡å…¥æ·¡å‡ºæ•ˆæœ

4. **é«˜çº§å¤„ç†**
   - é™å™ªç®—æ³•åº”ç”¨
   - å‡è¡¡å™¨è°ƒèŠ‚
   - éŸ³æ•ˆå¢å¼ºå¤„ç†

**å¯è§†åŒ–ç‰¹æ€§**:
- å®æ—¶æ³¢å½¢æ˜¾ç¤º
- é¢‘è°±åˆ†æå›¾è¡¨
- å¤„ç†æ•ˆæœå¯è§†åŒ–
- è¿›åº¦åŠ¨ç”»å±•ç¤º

#### 4. å…³äºé¡µé¢ (about.html) - å¹³å°ä»‹ç»

**é¡µé¢ç»“æ„**:
- **å¹³å°ä»‹ç»**: æ ¸å¿ƒåŠŸèƒ½å’Œä¼˜åŠ¿è¯´æ˜
- **æŠ€æœ¯æ¶æ„**: åº•å±‚æŠ€æœ¯æ ˆå±•ç¤º
- **ä½¿ç”¨æŒ‡å—**: è¯¦ç»†çš„æ“ä½œæ•™ç¨‹
- **å¸¸è§é—®é¢˜**: FAQè§£ç­”
- **è”ç³»ä¿¡æ¯**: æŠ€æœ¯æ”¯æŒå’Œåé¦ˆæ¸ é“

**å†…å®¹æ¨¡å—**:
- å¹³å°æ„¿æ™¯å’Œä½¿å‘½
- æŠ€æœ¯å®ç°åŸç†
- è¯¦ç»†ä½¿ç”¨æ•™ç¨‹
- æœ€ä½³å®è·µæŒ‡å—
- æ•…éšœæ’é™¤å¸®åŠ©

### æŠ€æœ¯å®ç°è§„åˆ’

#### å‰ç«¯æŠ€æœ¯æ ˆ
- **HTML5**: è¯­ä¹‰åŒ–ç»“æ„ï¼Œç°ä»£Webæ ‡å‡†
- **CSS3**: Tailwind CSSæ¡†æ¶ï¼Œå“åº”å¼è®¾è®¡
- **JavaScript ES6+**: æ¨¡å—åŒ–å¼€å‘ï¼Œç°ä»£è¯­æ³•ç‰¹æ€§

#### æ ¸å¿ƒåº“é›†æˆ
- **Anime.js**: æµç•…åŠ¨ç”»æ•ˆæœ
- **ECharts.js**: æ•°æ®å¯è§†åŒ–å›¾è¡¨
- **Pixi.js**: é«˜æ€§èƒ½å›¾å½¢æ¸²æŸ“
- **Matter.js**: ç‰©ç†å¼•æ“äº¤äº’
- **Splide.js**: è½®æ’­ç»„ä»¶

#### åŠŸèƒ½æ¨¡æ‹Ÿå®ç°
ç”±äºæµè§ˆå™¨å®‰å…¨é™åˆ¶ï¼Œå®é™…çš„yt-dlpå’Œffmpegéœ€è¦åœ¨æœåŠ¡å™¨ç«¯è¿è¡Œï¼Œå‰ç«¯å°†æ¨¡æ‹Ÿä»¥ä¸‹åŠŸèƒ½ï¼š
- URLéªŒè¯å’Œæ ¼å¼åˆ†æ
- è¿›åº¦æ¡åŠ¨ç”»æ¨¡æ‹Ÿ
- æ–‡ä»¶å¤„ç†çŠ¶æ€æ˜¾ç¤º
- ç»“æœé¢„è§ˆå’Œä¸‹è½½

### ç”¨æˆ·ä½“éªŒè®¾è®¡

#### äº¤äº’æµç¨‹
1. **é¦–æ¬¡è®¿é—®**: æ¸…æ™°çš„åŠŸèƒ½ä»‹ç»å’Œå¼•å¯¼
2. **åŠŸèƒ½é€‰æ‹©**: ç›´è§‚çš„åŠŸèƒ½åˆ†åŒºå’Œå¯¼èˆª
3. **å‚æ•°é…ç½®**: æ™ºèƒ½åŒ–çš„å‚æ•°å»ºè®®å’Œé¢„è§ˆ
4. **å¤„ç†ç›‘æ§**: å®æ—¶çš„è¿›åº¦åé¦ˆå’ŒçŠ¶æ€æ›´æ–°
5. **ç»“æœè·å–**: ä¾¿æ·çš„ç»“æœä¸‹è½½å’Œåç»­å¤„ç†

#### å“åº”å¼è®¾è®¡
- **æ¡Œé¢ç«¯**: å……åˆ†åˆ©ç”¨å¤§å±å¹•ç©ºé—´ï¼Œå¤šé¢æ¿å¸ƒå±€
- **å¹³æ¿ç«¯**: é€‚é…ä¸­ç­‰å±å¹•ï¼Œä¼˜åŒ–è§¦æ‘¸äº¤äº’
- **ç§»åŠ¨ç«¯**: å•åˆ—å¸ƒå±€ï¼Œç®€åŒ–æ“ä½œæµç¨‹

#### å¯è®¿é—®æ€§
- **é”®ç›˜å¯¼èˆª**: å®Œæ•´çš„é”®ç›˜æ“ä½œæ”¯æŒ
- **å±å¹•é˜…è¯»å™¨**: è¯­ä¹‰åŒ–æ ‡ç­¾å’ŒARIAæ”¯æŒ
- **é¢œè‰²å¯¹æ¯”**: ç¬¦åˆWCAG 2.1 AAæ ‡å‡†
- **å­—ä½“å¤§å°**: å¯è°ƒèŠ‚çš„æ–‡å­—å¤§å°

### æ€§èƒ½ä¼˜åŒ–ç­–ç•¥

#### åŠ è½½ä¼˜åŒ–
- **æ‡’åŠ è½½**: å›¾ç‰‡å’Œç»„ä»¶æŒ‰éœ€åŠ è½½
- **ä»£ç åˆ†å‰²**: JavaScriptæ¨¡å—åŒ–åŠ è½½
- **èµ„æºå‹ç¼©**: CSS/JSæ–‡ä»¶å‹ç¼©ä¼˜åŒ–
- **CDNåŠ é€Ÿ**: é™æ€èµ„æºCDNåˆ†å‘

#### äº¤äº’ä¼˜åŒ–
- **é˜²æŠ–èŠ‚æµ**: è¾“å…¥å’Œæ»šåŠ¨äº‹ä»¶ä¼˜åŒ–
- **è™šæ‹Ÿæ»šåŠ¨**: å¤§æ•°æ®åˆ—è¡¨æ€§èƒ½ä¼˜åŒ–
- **ç¼“å­˜ç­–ç•¥**: æ™ºèƒ½ç¼“å­˜å’Œé¢„åŠ è½½
- **é”™è¯¯å¤„ç†**: ä¼˜é›…çš„é”™è¯¯æç¤ºå’Œæ¢å¤

### éƒ¨ç½²å’Œç»´æŠ¤

#### éƒ¨ç½²ç­–ç•¥
- **é™æ€éƒ¨ç½²**: çº¯å‰ç«¯é™æ€ç½‘ç«™éƒ¨ç½²
- **CDNé…ç½®**: å…¨çƒåŠ é€Ÿå’Œç¼“å­˜ä¼˜åŒ–
- **åŸŸåé…ç½®**: è‡ªå®šä¹‰åŸŸåå’ŒHTTPS
- **ç›‘æ§å‘Šè­¦**: æ€§èƒ½ç›‘æ§å’Œå¼‚å¸¸å‘Šè­¦

#### ç»´æŠ¤è®¡åˆ’
- **å®šæœŸæ›´æ–°**: ä¾èµ–åº“å’Œå®‰å…¨è¡¥ä¸æ›´æ–°
- **åŠŸèƒ½è¿­ä»£**: åŸºäºç”¨æˆ·åé¦ˆçš„åŠŸèƒ½ä¼˜åŒ–
- **æ€§èƒ½ç›‘æ§**: æŒç»­çš„æ€§èƒ½ä¼˜åŒ–å’Œè°ƒä¼˜
- **ç”¨æˆ·æ”¯æŒ**: æŠ€æœ¯æ”¯æŒå’Œé—®é¢˜è§£ç­”

### æˆåŠŸæŒ‡æ ‡

#### æŠ€æœ¯æŒ‡æ ‡
- **é¡µé¢åŠ è½½é€Ÿåº¦**: é¦–å±åŠ è½½æ—¶é—´<3ç§’
- **äº¤äº’å“åº”æ—¶é—´**: ç”¨æˆ·æ“ä½œåé¦ˆ<100ms
- **å…¼å®¹æ€§è¦†ç›–**: æ”¯æŒ95%+çš„ç°ä»£æµè§ˆå™¨
- **é”™è¯¯ç‡æ§åˆ¶**: JavaScripté”™è¯¯ç‡<0.1%

#### ç”¨æˆ·ä½“éªŒæŒ‡æ ‡
- **åŠŸèƒ½å®Œæˆç‡**: ç”¨æˆ·èƒ½å¤Ÿå®Œæˆé¢„æœŸçš„å¤„ç†ä»»åŠ¡
- **æ“ä½œä¾¿åˆ©æ€§**: ç›´è§‚çš„ç•Œé¢å’Œæµç•…çš„äº¤äº’
- **è§†è§‰å¸å¼•åŠ›**: ä¸“ä¸šçš„è§†è§‰è®¾è®¡å’ŒåŠ¨ç”»æ•ˆæœ
- **å“åº”å¼è®¾è®¡**: åœ¨å„ç§è®¾å¤‡ä¸Šçš„è‰¯å¥½ä½“éªŒ

---

## MediaPro æŠ€æœ¯æ–‡æ¡£

### é¡¹ç›®æ¦‚è¿°

MediaProæ˜¯ä¸€ä¸ªåŸºäºWebçš„åª’ä½“å¤„ç†å¹³å°ï¼Œå‰ç«¯ä½¿ç”¨HTML/JavaScriptå®ç°ï¼Œé›†æˆäº†yt-dlpå’Œffmpegçš„æ ¸å¿ƒåŠŸèƒ½ã€‚æœ¬æ–‡æ¡£è¯¦ç»†è§£é‡Šäº†é¡¹ç›®çš„æ¶æ„ã€å®ç°é€»è¾‘ä»¥åŠæŠ€æœ¯é™åˆ¶ã€‚

### ç³»ç»Ÿæ¶æ„

#### å‰ç«¯æ¶æ„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            å‰ç«¯ç•Œé¢å±‚                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  HTML5 + CSS3 + JavaScript ES6+     â”‚
â”‚  - Tailwind CSS (æ ·å¼æ¡†æ¶)          â”‚
â”‚  - Anime.js (åŠ¨ç”»æ•ˆæœ)              â”‚
â”‚  - ECharts.js (æ•°æ®å¯è§†åŒ–)          â”‚
â”‚  - Pixi.js (å›¾å½¢æ¸²æŸ“)               â”‚
â”‚  - Splide.js (è½®æ’­ç»„ä»¶)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ¸å¿ƒåŠŸèƒ½æ¨¡å—
1. **è§†é¢‘ä¸‹è½½æ¨¡å—** - åŸºäºyt-dlpçš„åŠŸèƒ½æ¨¡æ‹Ÿ
2. **è§†é¢‘ç¼–è¾‘æ¨¡å—** - åŸºäºffmpegçš„åŠŸèƒ½æ¨¡æ‹Ÿ  
3. **éŸ³é¢‘å¤„ç†æ¨¡å—** - åŸºäºffmpegçš„éŸ³é¢‘å¤„ç†æ¨¡æ‹Ÿ
4. **ç”¨æˆ·ç•Œé¢æ¨¡å—** - å“åº”å¼Webç•Œé¢

## è¯¦ç»†å®ç°é€»è¾‘

### 1. è§†é¢‘ä¸‹è½½åŠŸèƒ½ (index.html)

#### æ ¸å¿ƒé€»è¾‘æµç¨‹ï¼š
```javascript
// URLåˆ†æå’ŒéªŒè¯
function analyzeUrl() {
    // 1. è·å–ç”¨æˆ·è¾“å…¥çš„URL
    const url = document.getElementById('video-url').value;
    
    // 2. éªŒè¯URLæ ¼å¼å’Œå¹³å°æ”¯æŒ
    const platform = detectPlatform(url);
    
    // 3. æ¨¡æ‹Ÿåˆ†æè¿‡ç¨‹
    if (platform) {
        // æ˜¾ç¤ºåˆ†æçŠ¶æ€
        showAnalyzingStatus();
        
        // æ¨¡æ‹ŸAPIè°ƒç”¨å»¶è¿Ÿ
        setTimeout(() => {
            // æ˜¾ç¤ºè´¨é‡é€‰é¡¹
            showQualityOptions();
            // æ›´æ–°è§†é¢‘ä¿¡æ¯
            updateVideoInfo(platform);
        }, 1500);
    }
}

// å¹³å°æ£€æµ‹
function detectPlatform(url) {
    const supportedPlatforms = [
        'youtube.com', 'youtu.be', 'bilibili.com', 'vimeo.com', 
        'tiktok.com', 'instagram.com', 'facebook.com', 'twitter.com'
    ];
    
    for (const platform of supportedPlatforms) {
        if (url.includes(platform)) {
            return platform;
        }
    }
    return null;
}

// æ¨¡æ‹Ÿä¸‹è½½è¿‡ç¨‹
function simulateDownload() {
    let progress = 0;
    const duration = 30000; // 30ç§’æ¨¡æ‹Ÿä¸‹è½½
    
    const downloadInterval = setInterval(() => {
        progress += Math.random() * 2;
        progress = Math.min(100, progress);
        
        // æ›´æ–°è¿›åº¦æ¡
        updateProgressBar(progress);
        updateSpeedDisplay();
        updateETADisplay();
        
        if (progress >= 100) {
            clearInterval(downloadInterval);
            completeDownload();
        }
    }, 100);
}
```

#### æŠ€æœ¯å®ç°è¯´æ˜ï¼š
- **URLéªŒè¯**: ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼éªŒè¯URLæ ¼å¼
- **å¹³å°æ£€æµ‹**: é€šè¿‡URLåŒ…å«çš„å…³é”®å­—è¯†åˆ«å¹³å°
- **æ¨¡æ‹ŸAPIè°ƒç”¨**: ä½¿ç”¨setTimeoutæ¨¡æ‹Ÿç½‘ç»œè¯·æ±‚å»¶è¿Ÿ
- **è¿›åº¦æ¨¡æ‹Ÿ**: ä½¿ç”¨éšæœºå¢é‡æ¨¡æ‹ŸçœŸå®ä¸‹è½½è¿›åº¦
- **çŠ¶æ€æ›´æ–°**: å®æ—¶æ›´æ–°UIæ˜¾ç¤ºä¸‹è½½çŠ¶æ€

### 2. è§†é¢‘ç¼–è¾‘åŠŸèƒ½ (video-editor.html)

#### æ ¸å¿ƒé€»è¾‘æµç¨‹ï¼š
```javascript
// æ–‡ä»¶ä¸Šä¼ å’Œå¤„ç†
class VideoEditor {
    constructor() {
        this.currentVideo = null;
        this.timelineZoom = 1;
        this.selectionStart = 20;
        this.selectionEnd = 50;
    }
    
    // æ–‡ä»¶ä¸Šä¼ 
    handleFileUpload(event) {
        const file = event.target.files[0];
        if (file && file.type.startsWith('video/')) {
            this.loadVideo(file);
        }
    }
    
    // è§†é¢‘åŠ è½½
    loadVideo(file) {
        this.currentVideo = file;
        
        // æ›´æ–°é¢„è§ˆåŒºåŸŸ
        this.updateVideoPreview(file);
        
        // åˆå§‹åŒ–æ—¶é—´è½´
        this.initializeTimeline();
        
        // æ˜¾ç¤ºæˆåŠŸæ¶ˆæ¯
        this.showNotification('è§†é¢‘åŠ è½½æˆåŠŸ', 'success');
    }
    
    // æ—¶é—´è½´äº¤äº’
    initializeTimeline() {
        const timeline = document.getElementById('timeline-container');
        
        // ç‚¹å‡»è®¾ç½®æ’­æ”¾ä½ç½®
        timeline.addEventListener('click', (e) => {
            const rect = timeline.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const percentage = (x / rect.width) * 100;
            
            this.currentTime = (percentage / 100) * this.duration;
            this.updateCursorPosition(percentage);
        });
        
        // æ‹–æ‹½é€‰æ‹©åŒºåŸŸ
        this.initializeSelectionDrag();
    }
    
    // åº”ç”¨ç¼–è¾‘è®¾ç½®
    applyTrim() {
        const startTime = document.getElementById('start-time').value;
        const endTime = document.getElementById('end-time').value;
        
        // éªŒè¯æ—¶é—´æ ¼å¼
        if (this.validateTimeFormat(startTime) && this.validateTimeFormat(endTime)) {
            // æ›´æ–°æ—¶é—´è½´é€‰æ‹©
            this.updateTimelineSelection(startTime, endTime);
            this.showNotification('è£å‰ªè®¾ç½®å·²åº”ç”¨', 'success');
        }
    }
}
```

#### æŠ€æœ¯å®ç°è¯´æ˜ï¼š
- **æ–‡ä»¶å¤„ç†**: ä½¿ç”¨File APIå¤„ç†æœ¬åœ°æ–‡ä»¶ä¸Šä¼ 
- **æ—¶é—´è½´äº¤äº’**: åŸºäºé¼ æ ‡äº‹ä»¶çš„ç²¾ç¡®ä½ç½®è®¡ç®—
- **æ—¶é—´æ ¼å¼éªŒè¯**: æ”¯æŒHH:MM:SSæ ¼å¼çš„æ—¶é—´è¾“å…¥
- **å®æ—¶é¢„è§ˆ**: å¯è§†åŒ–æ˜¾ç¤ºç¼–è¾‘æ•ˆæœ
- **å‚æ•°é…ç½®**: æä¾›ä¸°å¯Œçš„ç¼–è¾‘é€‰é¡¹ï¼ˆè£å‰ªã€å‹ç¼©ã€æ°´å°ç­‰ï¼‰

### 3. éŸ³é¢‘å¤„ç†åŠŸèƒ½ (audio-processor.html)

#### æ ¸å¿ƒé€»è¾‘æµç¨‹ï¼š
```javascript
class AudioProcessor {
    constructor() {
        this.currentAudio = null;
        this.isPlaying = false;
        this.selectedFormat = 'mp3';
    }
    
    // éŸ³é¢‘æ³¢å½¢å¯è§†åŒ–
    initializeWaveform() {
        const canvas = document.getElementById('waveform-canvas');
        const ctx = canvas.getContext('2d');
        
        // ç»˜åˆ¶ç¤ºä¾‹æ³¢å½¢
        this.drawWaveform(ctx, canvas.width, canvas.height);
        
        // åˆå§‹åŒ–é€‰æ‹©åŒºåŸŸ
        this.initializeWaveformSelection();
    }
    
    // é¢‘è°±åˆ†æ
    initializeSpectrum() {
        const chart = echarts.init(document.getElementById('spectrum-chart'));
        
        // ç”Ÿæˆé¢‘è°±æ•°æ®
        const frequencies = [];
        const amplitudes = [];
        
        for (let i = 0; i < 128; i++) {
            const freq = 20 + (20000 - 20) * (i / 127);
            frequencies.push(freq);
            amplitudes.push(Math.random() * 100);
        }
        
        // é…ç½®å›¾è¡¨
        const option = {
            backgroundColor: 'transparent',
            xAxis: {
                type: 'category',
                data: frequencies.map(f => f.toFixed(0))
            },
            yAxis: {
                type: 'value'
            },
            series: [{
                data: amplitudes,
                type: 'bar',
                itemStyle: {
                    color: '#4a90e2'
                }
            }]
        };
        
        chart.setOption(option);
        
        // åŠ¨æ€æ›´æ–°é¢‘è°±
        setInterval(() => {
            const newAmplitudes = amplitudes.map(() => Math.random() * 100);
            chart.setOption({
                series: [{
                    data: newAmplitudes
                }]
            });
        }, 100);
    }
    
    // å‡è¡¡å™¨æ§åˆ¶
    setupEQSlider(slider) {
        const thumb = slider.querySelector('.eq-slider-thumb');
        const fill = slider.querySelector('.eq-slider-fill');
        const valueDisplay = slider.parentElement.querySelector('.eq-value:last-child');
        
        let isDragging = false;
        let currentValue = 0;
        
        thumb.addEventListener('mousedown', (e) => {
            isDragging = true;
            e.preventDefault();
        });
        
        document.addEventListener('mousemove', (e) => {
            if (!isDragging) return;
            
            const rect = slider.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const percentage = Math.max(0, Math.min(100, (x / rect.width) * 100));
            
            currentValue = -12 + 24 * (percentage / 100);
            thumb.style.left = percentage + '%';
            fill.style.width = percentage + '%';
            
            const displayValue = currentValue >= 0 ? '+' + currentValue.toFixed(1) : currentValue.toFixed(1);
            valueDisplay.textContent = displayValue + 'dB';
        });
        
        document.addEventListener('mouseup', () => {
            isDragging = false;
        });
    }
}
```

#### æŠ€æœ¯å®ç°è¯´æ˜ï¼š
- **æ³¢å½¢å¯è§†åŒ–**: ä½¿ç”¨Canvas APIç»˜åˆ¶éŸ³é¢‘æ³¢å½¢
- **é¢‘è°±åˆ†æ**: ä½¿ç”¨ECharts.jså®ç°å®æ—¶é¢‘è°±æ˜¾ç¤º
- **å‡è¡¡å™¨**: 5æ®µå‡è¡¡å™¨ï¼Œæ”¯æŒÂ±12dBè°ƒèŠ‚
- **éŸ³é¢‘æ§åˆ¶**: æ’­æ”¾ã€æš‚åœã€åœæ­¢ã€å¾ªç¯æ§åˆ¶
- **æ ¼å¼è½¬æ¢**: æ”¯æŒ6ç§ä¸»æµéŸ³é¢‘æ ¼å¼

## å…³äºyt-dlpå’Œffmpegè°ƒç”¨çš„æŠ€æœ¯è¯´æ˜

### å‰ç«¯é™åˆ¶
**é‡è¦è¯´æ˜ï¼šçº¯HTML/JavaScriptæ— æ³•ç›´æ¥è°ƒç”¨yt-dlpå’Œffmpegå‘½ä»¤è¡Œå·¥å…·**

åŸå› ï¼š
1. **æµè§ˆå™¨å®‰å…¨é™åˆ¶**: ç½‘é¡µJavaScriptæ— æ³•æ‰§è¡Œæœ¬åœ°ç³»ç»Ÿå‘½ä»¤
2. **æ–‡ä»¶ç³»ç»Ÿè®¿é—®**: æ— æ³•ç›´æ¥è®¿é—®ç”¨æˆ·çš„æ–‡ä»¶ç³»ç»Ÿ
3. **ç½‘ç»œé™åˆ¶**: è·¨åŸŸè¯·æ±‚é™åˆ¶å’ŒCORSç­–ç•¥

### å®é™…å®ç°æ–¹æ¡ˆ

#### æ–¹æ¡ˆ1ï¼šåç«¯APIæœåŠ¡ï¼ˆæ¨èï¼‰
```javascript
// å‰ç«¯è°ƒç”¨åç«¯API
async function downloadVideo(url, quality) {
    const response = await fetch('/api/download', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json'
        },
        body: JSON.stringify({
            url: url,
            quality: quality
        })
    });
    
    const result = await response.json();
    return result;
}

// åç«¯Pythonç¤ºä¾‹ï¼ˆéœ€è¦å®ç°ï¼‰
"""
from flask import Flask, request, jsonify
import subprocess
import os

app = Flask(__name__)

@app.route('/api/download', methods=['POST'])
def download_video():
    data = request.json
    url = data['url']
    quality = data['quality']
    
    # æ„å»ºyt-dlpå‘½ä»¤
    cmd = [
        'yt-dlp',
        '-f', f'bestvideo[height<=?{quality}]+bestaudio/best',
        '--write-sub',
        '--sub-lang', 'zh-CN,en',
        '--extract-audio', '--audio-format', 'mp3',
        '--audio-quality', '320K',
        '-o', '%(title)s.%(ext)s',
        url
    ]
    
    try:
        # æ‰§è¡Œå‘½ä»¤
        result = subprocess.run(cmd, capture_output=True, text=True)
        
        if result.returncode == 0:
            return jsonify({
                'success': True,
                'message': 'Download completed',
                'output': result.stdout
            })
        else:
            return jsonify({
                'success': False,
                'error': result.stderr
            })
    except Exception as e:
        return jsonify({
            'success': False,
            'error': str(e)
        })
"""
```

#### æ–¹æ¡ˆ2ï¼šWebAssemblyå®ç°
```javascript
// ä½¿ç”¨WebAssemblyç‰ˆæœ¬çš„ffmpeg
// éœ€è¦ç¼–è¯‘ffmpegåˆ°WebAssembly
class FFmpegWASM {
    constructor() {
        this.ffmpeg = null;
    }
    
    async loadFFmpeg() {
        // åŠ è½½WebAssemblyç‰ˆæœ¬çš„ffmpeg
        this.ffmpeg = await FFmpeg.createFFmpeg({
            log: true,
            corePath: 'ffmpeg-core.js'
        });
        
        await this.ffmpeg.load();
    }
    
    async processVideo(inputFile, commands) {
        // å°†æ–‡ä»¶å†™å…¥è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿ
        this.ffmpeg.FS('writeFile', 'input.mp4', await fetchFile(inputFile));
        
        // æ‰§è¡Œffmpegå‘½ä»¤
        await this.ffmpeg.run(...commands);
        
        // è¯»å–è¾“å‡ºæ–‡ä»¶
        const data = this.ffmpeg.FS('readFile', 'output.mp4');
        return data;
    }
}
```

#### æ–¹æ¡ˆ3ï¼šæµè§ˆå™¨åŸç”ŸAPI
```javascript
// ä½¿ç”¨WebCodecs APIï¼ˆæœ‰é™åŠŸèƒ½ï¼‰
class BrowserVideoProcessor {
    async processVideo(videoFile, settings) {
        // ä½¿ç”¨MediaRecorder API
        const mediaStream = await navigator.mediaDevices.getUserMedia({
            video: {
                mediaSource: 'file',
                source: videoFile
            }
        });
        
        const mediaRecorder = new MediaRecorder(mediaStream, {
            mimeType: 'video/mp4'
        });
        
        const chunks = [];
        mediaRecorder.ondataavailable = (event) => {
            chunks.push(event.data);
        };
        
        mediaRecorder.onstop = () => {
            const blob = new Blob(chunks, { type: 'video/mp4' });
            return blob;
        };
        
        mediaRecorder.start();
        
        // å¤„ç†å®Œæˆååœæ­¢å½•åˆ¶
        setTimeout(() => {
            mediaRecorder.stop();
        }, settings.duration);
    }
}
```

## å½“å‰é¡¹ç›®çš„å®ç°çŠ¶æ€

### å·²å®ç°çš„åŠŸèƒ½
1. **å®Œæ•´çš„ç”¨æˆ·ç•Œé¢**: 4ä¸ªæ ¸å¿ƒé¡µé¢ï¼Œå“åº”å¼è®¾è®¡
2. **äº¤äº’é€»è¾‘**: æ‰€æœ‰æŒ‰é’®å’Œæ§ä»¶éƒ½æœ‰å“åº”äº‹ä»¶
3. **è§†è§‰æ•ˆæœ**: åŠ¨ç”»ã€ç²’å­èƒŒæ™¯ã€æ•°æ®å¯è§†åŒ–
4. **çŠ¶æ€ç®¡ç†**: æ–‡ä»¶ä¸Šä¼ ã€å‚æ•°é…ç½®ã€è¿›åº¦æ˜¾ç¤º
5. **æ¨¡æ‹Ÿå¤„ç†**: é€¼çœŸçš„å¤„ç†è¿›åº¦å’Œç»“æœå±•ç¤º

### éœ€è¦åç«¯æ”¯æŒçš„åŠŸèƒ½
1. **å®é™…è§†é¢‘ä¸‹è½½**: éœ€è¦yt-dlpåç«¯æœåŠ¡
2. **å®é™…è§†é¢‘å¤„ç†**: éœ€è¦ffmpegåç«¯æœåŠ¡
3. **æ–‡ä»¶å­˜å‚¨**: éœ€è¦æ–‡ä»¶å­˜å‚¨å’Œç®¡ç†ç³»ç»Ÿ
4. **ç”¨æˆ·è®¤è¯**: éœ€è¦ç”¨æˆ·ç®¡ç†å’Œæƒé™ç³»ç»Ÿ

## éƒ¨ç½²å’Œæ‰©å±•å»ºè®®

### åç«¯æŠ€æœ¯æ ˆå»ºè®®
```python
# æ¨èåç«¯æŠ€æœ¯æ ˆ
- Flask/Django (Python Webæ¡†æ¶)
- Celery (å¼‚æ­¥ä»»åŠ¡é˜Ÿåˆ—)
- Redis (ç¼“å­˜å’Œæ¶ˆæ¯é˜Ÿåˆ—)
- PostgreSQL (æ•°æ®åº“)
- MinIO/AWS S3 (æ–‡ä»¶å­˜å‚¨)
- Docker (å®¹å™¨åŒ–éƒ¨ç½²)
```

### éƒ¨ç½²æ¶æ„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Web Frontend  â”‚    â”‚   API Gateway   â”‚    â”‚   Processing    â”‚
â”‚   (HTML/CSS/JS) â”‚â—„â”€â”€â–ºâ”‚   (Nginx)       â”‚â—„â”€â”€â–ºâ”‚   Workers       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚                        â”‚
                                â–¼                        â–¼
                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                       â”‚   Database      â”‚    â”‚   File Storage  â”‚
                       â”‚   (PostgreSQL)  â”‚    â”‚   (MinIO/S3)    â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## æ€»ç»“

å½“å‰é¡¹ç›®å®Œæˆäº†å®Œæ•´çš„å‰ç«¯ç•Œé¢å’Œäº¤äº’é€»è¾‘ï¼Œä½†è¦å®ç°çœŸæ­£çš„yt-dlpå’ŒffmpegåŠŸèƒ½ï¼Œéœ€è¦é…åˆåç«¯æœåŠ¡ã€‚å‰ç«¯ä¸»è¦è´Ÿè´£ï¼š

1. **ç”¨æˆ·äº¤äº’**: æ”¶é›†ç”¨æˆ·è¾“å…¥å’Œå‚æ•°
2. **çŠ¶æ€å±•ç¤º**: æ˜¾ç¤ºå¤„ç†è¿›åº¦å’Œç»“æœ
3. **æ–‡ä»¶ä¸Šä¼ **: å¤„ç†æœ¬åœ°æ–‡ä»¶é€‰æ‹©å’Œä¸Šä¼ 
4. **APIè°ƒç”¨**: ä¸åç«¯æœåŠ¡é€šä¿¡
5. **ç»“æœå±•ç¤º**: å±•ç¤ºå¤„ç†å®Œæˆçš„æ–‡ä»¶

åç«¯æœåŠ¡éœ€è¦å®ç°ï¼š

1. **å‘½ä»¤æ‰§è¡Œ**: å®‰å…¨åœ°æ‰§è¡Œyt-dlpå’Œffmpegå‘½ä»¤
2. **æ–‡ä»¶å¤„ç†**: å¤„ç†ä¸Šä¼ çš„æ–‡ä»¶å’Œç”Ÿæˆçš„ç»“æœ
3. **è¿›åº¦è·Ÿè¸ª**: å®æ—¶ç›‘æ§å¤„ç†è¿›åº¦
4. **é”™è¯¯å¤„ç†**: å¤„ç†å„ç§å¼‚å¸¸æƒ…å†µ
5. **èµ„æºç®¡ç†**: ç®¡ç†æœåŠ¡å™¨èµ„æºå’Œé˜Ÿåˆ—

è¿™ç§å‰åç«¯åˆ†ç¦»çš„æ¶æ„æ—¢ä¿è¯äº†ç”¨æˆ·ä½“éªŒï¼Œåˆç¡®ä¿äº†ç³»ç»Ÿçš„å®‰å…¨æ€§å’Œå¯æ‰©å±•æ€§ã€‚

---

## åª’ä½“å¤„ç†å¹³å°æŠ€æœ¯æ¶æ„

### æ ¸å¿ƒæŠ€æœ¯æ ˆ

#### å‰ç«¯æŠ€æœ¯
- **HTML5**: è¯­ä¹‰åŒ–ç»“æ„ï¼Œæ”¯æŒç°ä»£æµè§ˆå™¨ç‰¹æ€§
- **CSS3**: Tailwind CSSæ¡†æ¶ï¼Œå“åº”å¼è®¾è®¡
- **JavaScript ES6+**: ç°ä»£JavaScriptç‰¹æ€§ï¼Œæ¨¡å—åŒ–å¼€å‘
- **Web APIs**: File API, Drag & Drop, Web Audio API

### æ ¸å¿ƒåº“é›†æˆ
- **Anime.js**: æµç•…çš„åŠ¨ç”»æ•ˆæœå’Œè¿‡æ¸¡
- **ECharts.js**: æ•°æ®å¯è§†åŒ–ï¼ˆå¤„ç†ç»Ÿè®¡ã€è´¨é‡åˆ†æï¼‰
- **Pixi.js**: é«˜æ€§èƒ½å›¾å½¢æ¸²æŸ“ï¼ˆè§†é¢‘é¢„è§ˆã€ç‰¹æ•ˆå¤„ç†ï¼‰
- **Matter.js**: ç‰©ç†å¼•æ“ï¼ˆæ‹–æ‹½äº¤äº’ã€æ–‡ä»¶ç®¡ç†ï¼‰
- **Splide.js**: è½®æ’­ç»„ä»¶ï¼ˆåŠŸèƒ½å±•ç¤ºã€æ•™ç¨‹å¯¼èˆªï¼‰

### åç«¯å¤„ç†å¼•æ“
- **yt-dlp**: è§†é¢‘ä¸‹è½½æ ¸å¿ƒå¼•æ“
  - æ”¯æŒ1000+ç½‘ç«™ï¼ˆYouTubeã€Bilibiliã€Vimeoç­‰ï¼‰
  - å¤šæ ¼å¼æ”¯æŒï¼ˆMP4ã€WebMã€MKVç­‰ï¼‰
  - è´¨é‡é€‰æ‹©ï¼ˆ720pã€1080pã€4Kç­‰ï¼‰
  - å­—å¹•ä¸‹è½½å’ŒåµŒå…¥
  - éŸ³é¢‘æå–åŠŸèƒ½

- **ffmpeg**: éŸ³è§†é¢‘å¤„ç†å¼•æ“
  - è§†é¢‘è£å‰ªã€åˆå¹¶ã€å‹ç¼©
  - éŸ³é¢‘æå–ã€æ ¼å¼è½¬æ¢
  - åˆ†è¾¨ç‡è°ƒæ•´ã€å¸§ç‡æ§åˆ¶
  - æ°´å°æ·»åŠ ã€ç‰¹æ•ˆå¤„ç†
  - æ‰¹é‡å¤„ç†èƒ½åŠ›

## åŠŸèƒ½æ¨¡å—æ¶æ„

### 1. è§†é¢‘ä¸‹è½½æ¨¡å—
```javascript
// æ ¸å¿ƒå‘½ä»¤ç»“æ„
yt-dlp -f "bestvideo[height<=?1080]+bestaudio/best" \
       --write-sub --sub-lang zh-CN,en \
       --extract-audio --audio-format mp3 \
       --audio-quality 320K \
       -o "% (title)s.%(ext)s" \
       [URL]
```

**åŠŸèƒ½ç‰¹æ€§**:
- æ™ºèƒ½æ ¼å¼é€‰æ‹©
- å¤šè¯­è¨€å­—å¹•æ”¯æŒ
- éŸ³é¢‘è´¨é‡æ§åˆ¶
- æ‰¹é‡ä¸‹è½½ç®¡ç†
- è¿›åº¦å®æ—¶ç›‘æ§

### 2. è§†é¢‘å¤„ç†æ¨¡å—
```javascript
// è§†é¢‘è£å‰ªç¤ºä¾‹
ffmpeg -i input.mp4 -vf "crop=1280:720:(iw-1280)/2:(ih-720)/2" \
       -c:v libx264 -crf 23 -preset fast output.mp4

// è§†é¢‘å‹ç¼©ç¤ºä¾‹
ffmpeg -i input.mp4 -c:v libx264 -crf 28 -preset slow \
       -c:a aac -b:a 128k output.mp4
```

**åŠŸèƒ½ç‰¹æ€§**:
- ç²¾ç¡®æ—¶é—´è£å‰ª
- æ™ºèƒ½å‹ç¼©ç®—æ³•
- å¤šæ ¼å¼è¾“å‡º
- è´¨é‡ä¿æŒä¼˜åŒ–

### 3. éŸ³é¢‘å¤„ç†æ¨¡å—
```javascript
// éŸ³é¢‘æå–ç¤ºä¾‹
ffmpeg -i video.mp4 -vn -acodec libmp3lame -ab 320k audio.mp3

// æ ¼å¼è½¬æ¢ç¤ºä¾‹
ffmpeg -i input.wav -acodec libmp3lame -ab 192k output.mp3
```

**åŠŸèƒ½ç‰¹æ€§**:
- æ— æŸéŸ³é¢‘æå–
- å¤šæ ¼å¼æ”¯æŒï¼ˆMP3ã€WAVã€FLACã€AACï¼‰
- éŸ³è´¨æ§åˆ¶é€‰é¡¹
- æ‰¹é‡è½¬æ¢èƒ½åŠ›

### 4. ç”¨æˆ·ç•Œé¢æ¶æ„
- **å•é¡µåº”ç”¨**: æ— åˆ·æ–°ä½“éªŒï¼Œå¿«é€Ÿå“åº”
- **æ¨¡å—åŒ–è®¾è®¡**: åŠŸèƒ½ç‹¬ç«‹ï¼Œæ˜“äºç»´æŠ¤
- **å“åº”å¼å¸ƒå±€**: é€‚é…å„ç§è®¾å¤‡
- **å®æ—¶é¢„è§ˆ**: å¤„ç†æ•ˆæœå³æ—¶æ˜¾ç¤º

## æ•°æ®å¤„ç†æµç¨‹

### ä¸‹è½½æµç¨‹
1. URLéªŒè¯å’Œå¹³å°æ£€æµ‹
2. å¯ç”¨æ ¼å¼åˆ†æå’Œå±•ç¤º
3. ç”¨æˆ·å‚æ•°é€‰æ‹©
4. ä¸‹è½½ä»»åŠ¡åˆ›å»º
5. è¿›åº¦ç›‘æ§å’ŒçŠ¶æ€æ›´æ–°
6. å®Œæˆåå¤„ç†é€‰é¡¹

### å¤„ç†æµç¨‹
1. æ–‡ä»¶ä¸Šä¼ å’ŒéªŒè¯
2. å‚æ•°é…ç½®å’Œé¢„è§ˆ
3. å¤„ç†ä»»åŠ¡é˜Ÿåˆ—ç®¡ç†
4. å®æ—¶è¿›åº¦åé¦ˆ
5. ç»“æœéªŒè¯å’Œè¾“å‡º
6. æ–‡ä»¶ä¸‹è½½å’Œæ¸…ç†

## æ€§èƒ½ä¼˜åŒ–ç­–ç•¥

### å‰ç«¯ä¼˜åŒ–
- **æ‡’åŠ è½½**: ç»„ä»¶æŒ‰éœ€åŠ è½½
- **ç¼“å­˜ç­–ç•¥**: ç»“æœç¼“å­˜å’Œé‡ç”¨
- **å‹ç¼©ä¼˜åŒ–**: èµ„æºæ–‡ä»¶å‹ç¼©
- **CDNåŠ é€Ÿ**: é™æ€èµ„æºåˆ†å‘

### å¤„ç†ä¼˜åŒ–
- **é˜Ÿåˆ—ç®¡ç†**: ä»»åŠ¡ä¼˜å…ˆçº§å’Œå¹¶å‘æ§åˆ¶
- **èµ„æºç›‘æ§**: å†…å­˜å’ŒCPUä½¿ç”¨ç›‘æ§
- **é”™è¯¯å¤„ç†**: ä¼˜é›…é™çº§å’Œé‡è¯•æœºåˆ¶
- **è¿›åº¦è¿½è¸ª**: å®æ—¶çŠ¶æ€æ›´æ–°

## å®‰å…¨å’Œéšç§

### æ•°æ®å®‰å…¨
- **æœ¬åœ°å¤„ç†**: æ•æ„Ÿæ•°æ®ä¸ä¸Šä¼ æœåŠ¡å™¨
- **ä¸´æ—¶æ¸…ç†**: å¤„ç†åè‡ªåŠ¨åˆ é™¤ä¸´æ—¶æ–‡ä»¶
- **åŠ å¯†ä¼ è¾“**: HTTPSå®‰å…¨é€šä¿¡
- **è®¿é—®æ§åˆ¶**: ç”¨æˆ·æƒé™ç®¡ç†

### éšç§ä¿æŠ¤
- **åŒ¿åå¤„ç†**: ä¸æ”¶é›†ç”¨æˆ·ä¸ªäººä¿¡æ¯
- **æœ¬åœ°å­˜å‚¨**: é…ç½®å’Œåå¥½æœ¬åœ°ä¿å­˜
- **æ— ç—•æ¨¡å¼**: æ”¯æŒéšç§æµè§ˆ
- **æ•°æ®éš”ç¦»**: ç”¨æˆ·æ•°æ®å®Œå…¨éš”ç¦»

## æ‰©å±•æ€§è®¾è®¡

### æ’ä»¶æ¶æ„
- **æ¨¡å—åŒ–æ¥å£**: æ”¯æŒç¬¬ä¸‰æ–¹åŠŸèƒ½æ‰©å±•
- **APIè®¾è®¡**: æ ‡å‡†åŒ–æ¥å£è§„èŒƒ
- **é…ç½®ç®¡ç†**: çµæ´»çš„é…ç½®ç³»ç»Ÿ
- **ç‰ˆæœ¬æ§åˆ¶**: å‘åå…¼å®¹æ€§ä¿è¯

### åŠŸèƒ½æ‰©å±•
- **æ–°æ ¼å¼æ”¯æŒ**: æ˜“äºæ·»åŠ æ–°çš„éŸ³è§†é¢‘æ ¼å¼
- **å¹³å°é€‚é…**: å¿«é€Ÿé€‚é…æ–°çš„è§†é¢‘å¹³å°
- **ç‰¹æ•ˆé›†æˆ**: åŠ¨æ€åŠ è½½è§†é¢‘ç‰¹æ•ˆ
- **æ‰¹å¤„ç†**: æ”¯æŒå¤æ‚çš„æ‰¹é‡å¤„ç†æµç¨‹